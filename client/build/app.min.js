var mmommo =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./client/src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./client/lib/glsl/CopyShader.js":
/*!***************************************!*\
  !*** ./client/lib/glsl/CopyShader.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author alteredq / http://alteredqualia.com/\r\n *\r\n * Full-screen textured quad shader\r\n */\n\nTHREE.CopyShader = {\n\n\t\tuniforms: {\n\n\t\t\t\t\"tDiffuse\": { value: null },\n\t\t\t\t\"opacity\": { value: 1.0 }\n\n\t\t},\n\n\t\tvertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n\n\t\tfragmentShader: [\"uniform float opacity;\", \"uniform sampler2D tDiffuse;\", \"varying vec2 vUv;\", \"void main() {\", \"vec4 texel = texture2D( tDiffuse, vUv );\", \"gl_FragColor = opacity * texel;\", \"}\"].join(\"\\n\")\n\n};\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/CopyShader.js?");

/***/ }),

/***/ "./client/lib/glsl/EffectComposer.js":
/*!*******************************************!*\
  !*** ./client/lib/glsl/EffectComposer.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\n\nTHREE.EffectComposer = function (renderer, renderTarget) {\n\n\tthis.renderer = renderer;\n\n\tif (renderTarget === undefined) {\n\n\t\tvar parameters = {\n\t\t\tminFilter: THREE.LinearFilter,\n\t\t\tmagFilter: THREE.LinearFilter,\n\t\t\tformat: THREE.RGBAFormat,\n\t\t\tstencilBuffer: false\n\t\t};\n\n\t\tvar size = renderer.getDrawingBufferSize();\n\t\trenderTarget = new THREE.WebGLRenderTarget(size.width, size.height, parameters);\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.passes = [];\n\n\t// dependencies\n\n\tif (THREE.CopyShader === undefined) {\n\n\t\tconsole.error('THREE.EffectComposer relies on THREE.CopyShader');\n\t}\n\n\tif (THREE.ShaderPass === undefined) {\n\n\t\tconsole.error('THREE.EffectComposer relies on THREE.ShaderPass');\n\t}\n\n\tthis.copyPass = new THREE.ShaderPass(THREE.CopyShader);\n};\n\nObject.assign(THREE.EffectComposer.prototype, {\n\n\tswapBuffers: function () {\n\n\t\tvar tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\t},\n\n\taddPass: function (pass) {\n\n\t\tthis.passes.push(pass);\n\n\t\tvar size = this.renderer.getDrawingBufferSize();\n\t\tpass.setSize(size.width, size.height);\n\t},\n\n\tinsertPass: function (pass, index) {\n\n\t\tthis.passes.splice(index, 0, pass);\n\t},\n\n\trender: function (delta) {\n\n\t\tvar maskActive = false;\n\n\t\tvar pass,\n\t\t    i,\n\t\t    il = this.passes.length;\n\n\t\tfor (i = 0; i < il; i++) {\n\n\t\t\tpass = this.passes[i];\n\n\t\t\tif (pass.enabled === false) continue;\n\n\t\t\tpass.render(this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive);\n\n\t\t\tif (pass.needsSwap) {\n\n\t\t\t\tif (maskActive) {\n\n\t\t\t\t\tvar context = this.renderer.context;\n\n\t\t\t\t\tcontext.stencilFunc(context.NOTEQUAL, 1, 0xffffffff);\n\n\t\t\t\t\tthis.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, delta);\n\n\t\t\t\t\tcontext.stencilFunc(context.EQUAL, 1, 0xffffffff);\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\t\t\t}\n\n\t\t\tif (THREE.MaskPass !== undefined) {\n\n\t\t\t\tif (pass instanceof THREE.MaskPass) {\n\n\t\t\t\t\tmaskActive = true;\n\t\t\t\t} else if (pass instanceof THREE.ClearMaskPass) {\n\n\t\t\t\t\tmaskActive = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\treset: function (renderTarget) {\n\n\t\tif (renderTarget === undefined) {\n\n\t\t\tvar size = this.renderer.getDrawingBufferSize();\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize(size.width, size.height);\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\t},\n\n\tsetSize: function (width, height) {\n\n\t\tthis.renderTarget1.setSize(width, height);\n\t\tthis.renderTarget2.setSize(width, height);\n\n\t\tfor (var i = 0; i < this.passes.length; i++) {\n\n\t\t\tthis.passes[i].setSize(width, height);\n\t\t}\n\t}\n\n});\n\nTHREE.Pass = function () {\n\n\t// if set to true, the pass is processed by the composer\n\tthis.enabled = true;\n\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.needsSwap = true;\n\n\t// if set to true, the pass clears its buffer before rendering\n\tthis.clear = false;\n\n\t// if set to true, the result of the pass is rendered to screen\n\tthis.renderToScreen = false;\n};\n\nObject.assign(THREE.Pass.prototype, {\n\n\tsetSize: function (width, height) {},\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\n\t\tconsole.error('THREE.Pass: .render() must be implemented in derived pass.');\n\t}\n\n});\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/EffectComposer.js?");

/***/ }),

/***/ "./client/lib/glsl/FXAA.js":
/*!*********************************!*\
  !*** ./client/lib/glsl/FXAA.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author davidedc / http://www.sketchpatch.net/\r\n *\r\n * NVIDIA FXAA by Timothy Lottes\r\n * http://timothylottes.blogspot.com/2011/06/fxaa3-source-released.html\r\n * - WebGL port by @supereggbert\r\n * http://www.glge.org/demos/fxaa/\r\n */\n\nTHREE.FXAAShader = {\n\n  uniforms: {\n\n    \"tDiffuse\": { value: null },\n    \"resolution\": { value: new THREE.Vector2(1 / 1024, 1 / 512) }\n\n  },\n\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n\n  fragmentShader: [\"precision highp float;\", \"\", \"uniform sampler2D tDiffuse;\", \"\", \"uniform vec2 resolution;\", \"\", \"varying vec2 vUv;\", \"\", \"// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\", \"\", \"//----------------------------------------------------------------------------------\", \"// File:        es3-kepler\\FXAA\\assets\\shaders/FXAA_DefaultES.frag\", \"// SDK Version: v3.00\", \"// Email:       gameworks@nvidia.com\", \"// Site:        http://developer.nvidia.com/\", \"//\", \"// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\", \"//\", \"// Redistribution and use in source and binary forms, with or without\", \"// modification, are permitted provided that the following conditions\", \"// are met:\", \"//  * Redistributions of source code must retain the above copyright\", \"//    notice, this list of conditions and the following disclaimer.\", \"//  * Redistributions in binary form must reproduce the above copyright\", \"//    notice, this list of conditions and the following disclaimer in the\", \"//    documentation and/or other materials provided with the distribution.\", \"//  * Neither the name of NVIDIA CORPORATION nor the names of its\", \"//    contributors may be used to endorse or promote products derived\", \"//    from this software without specific prior written permission.\", \"//\", \"// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\", \"// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\", \"// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\", \"// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\", \"// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\", \"// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\", \"// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\", \"// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\", \"// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\", \"// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\", \"// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\", \"//\", \"//----------------------------------------------------------------------------------\", \"\", \"#define FXAA_PC 1\", \"#define FXAA_GLSL_100 1\", \"#define FXAA_QUALITY_PRESET 12\", \"\", \"#define FXAA_GREEN_AS_LUMA 1\", \"\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_PC_CONSOLE\", \"    //\", \"    // The console algorithm for PC is included\", \"    // for developers targeting really low spec machines.\", \"    // Likely better to just run FXAA_PC, and use a really low preset.\", \"    //\", \"    #define FXAA_PC_CONSOLE 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GLSL_120\", \"    #define FXAA_GLSL_120 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GLSL_130\", \"    #define FXAA_GLSL_130 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_3\", \"    #define FXAA_HLSL_3 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_4\", \"    #define FXAA_HLSL_4 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_5\", \"    #define FXAA_HLSL_5 0\", \"#endif\", \"/*==========================================================================*/\", \"#ifndef FXAA_GREEN_AS_LUMA\", \"    //\", \"    // For those using non-linear color,\", \"    // and either not able to get luma in alpha, or not wanting to,\", \"    // this enables FXAA to run using green as a proxy for luma.\", \"    // So with this enabled, no need to pack luma in alpha.\", \"    //\", \"    // This will turn off AA on anything which lacks some amount of green.\", \"    // Pure red and blue or combination of only R and B, will get no AA.\", \"    //\", \"    // Might want to lower the settings for both,\", \"    //    fxaaConsoleEdgeThresholdMin\", \"    //    fxaaQualityEdgeThresholdMin\", \"    // In order to insure AA does not get turned off on colors\", \"    // which contain a minor amount of green.\", \"    //\", \"    // 1 = On.\", \"    // 0 = Off.\", \"    //\", \"    #define FXAA_GREEN_AS_LUMA 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_EARLY_EXIT\", \"    //\", \"    // Controls algorithm's early exit path.\", \"    // On PS3 turning this ON adds 2 cycles to the shader.\", \"    // On 360 turning this OFF adds 10ths of a millisecond to the shader.\", \"    // Turning this off on console will result in a more blurry image.\", \"    // So this defaults to on.\", \"    //\", \"    // 1 = On.\", \"    // 0 = Off.\", \"    //\", \"    #define FXAA_EARLY_EXIT 1\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_DISCARD\", \"    //\", \"    // Only valid for PC OpenGL currently.\", \"    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\", \"    //\", \"    // 1 = Use discard on pixels which don't need AA.\", \"    //     For APIs which enable concurrent TEX+ROP from same surface.\", \"    // 0 = Return unchanged color on pixels which don't need AA.\", \"    //\", \"    #define FXAA_DISCARD 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_FAST_PIXEL_OFFSET\", \"    //\", \"    // Used for GLSL 120 only.\", \"    //\", \"    // 1 = GL API supports fast pixel offsets\", \"    // 0 = do not use fast pixel offsets\", \"    //\", \"    #ifdef GL_EXT_gpu_shader4\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifdef GL_NV_gpu_shader5\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifdef GL_ARB_gpu_shader5\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifndef FXAA_FAST_PIXEL_OFFSET\", \"        #define FXAA_FAST_PIXEL_OFFSET 0\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GATHER4_ALPHA\", \"    //\", \"    // 1 = API supports gather4 on alpha channel.\", \"    // 0 = API does not support gather4 on alpha channel.\", \"    //\", \"    #if (FXAA_HLSL_5 == 1)\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifdef GL_ARB_gpu_shader5\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifdef GL_NV_gpu_shader5\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifndef FXAA_GATHER4_ALPHA\", \"        #define FXAA_GATHER4_ALPHA 0\", \"    #endif\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"                        FXAA QUALITY - TUNING KNOBS\", \"------------------------------------------------------------------------------\", \"NOTE the other tuning knobs are now in the shader function inputs!\", \"============================================================================*/\", \"#ifndef FXAA_QUALITY_PRESET\", \"    //\", \"    // Choose the quality preset.\", \"    // This needs to be compiled into the shader as it effects code.\", \"    // Best option to include multiple presets is to\", \"    // in each shader define the preset, then include this file.\", \"    //\", \"    // OPTIONS\", \"    // -----------------------------------------------------------------------\", \"    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\", \"    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\", \"    // 39       - no dither, very expensive\", \"    //\", \"    // NOTES\", \"    // -----------------------------------------------------------------------\", \"    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\", \"    // 13 = about same speed as FXAA 3.9 and better than 12\", \"    // 23 = closest to FXAA 3.9 visually and performance wise\", \"    //  _ = the lowest digit is directly related to performance\", \"    // _  = the highest digit is directly related to style\", \"    //\", \"    #define FXAA_QUALITY_PRESET 12\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"\", \"                           FXAA QUALITY - PRESETS\", \"\", \"============================================================================*/\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - MEDIUM DITHER PRESETS\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 10)\", \"    #define FXAA_QUALITY_PS 3\", \"    #define FXAA_QUALITY_P0 1.5\", \"    #define FXAA_QUALITY_P1 3.0\", \"    #define FXAA_QUALITY_P2 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 11)\", \"    #define FXAA_QUALITY_PS 4\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 3.0\", \"    #define FXAA_QUALITY_P3 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 12)\", \"    #define FXAA_QUALITY_PS 5\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 4.0\", \"    #define FXAA_QUALITY_P4 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 13)\", \"    #define FXAA_QUALITY_PS 6\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 4.0\", \"    #define FXAA_QUALITY_P5 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 14)\", \"    #define FXAA_QUALITY_PS 7\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 4.0\", \"    #define FXAA_QUALITY_P6 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 15)\", \"    #define FXAA_QUALITY_PS 8\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 4.0\", \"    #define FXAA_QUALITY_P7 12.0\", \"#endif\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - LOW DITHER PRESETS\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 20)\", \"    #define FXAA_QUALITY_PS 3\", \"    #define FXAA_QUALITY_P0 1.5\", \"    #define FXAA_QUALITY_P1 2.0\", \"    #define FXAA_QUALITY_P2 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 21)\", \"    #define FXAA_QUALITY_PS 4\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 22)\", \"    #define FXAA_QUALITY_PS 5\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 23)\", \"    #define FXAA_QUALITY_PS 6\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 24)\", \"    #define FXAA_QUALITY_PS 7\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 3.0\", \"    #define FXAA_QUALITY_P6 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 25)\", \"    #define FXAA_QUALITY_PS 8\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 4.0\", \"    #define FXAA_QUALITY_P7 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 26)\", \"    #define FXAA_QUALITY_PS 9\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 4.0\", \"    #define FXAA_QUALITY_P8 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 27)\", \"    #define FXAA_QUALITY_PS 10\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 4.0\", \"    #define FXAA_QUALITY_P9 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 28)\", \"    #define FXAA_QUALITY_PS 11\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 4.0\", \"    #define FXAA_QUALITY_P10 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 29)\", \"    #define FXAA_QUALITY_PS 12\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 2.0\", \"    #define FXAA_QUALITY_P10 4.0\", \"    #define FXAA_QUALITY_P11 8.0\", \"#endif\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - EXTREME QUALITY\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 39)\", \"    #define FXAA_QUALITY_PS 12\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.0\", \"    #define FXAA_QUALITY_P2 1.0\", \"    #define FXAA_QUALITY_P3 1.0\", \"    #define FXAA_QUALITY_P4 1.0\", \"    #define FXAA_QUALITY_P5 1.5\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 2.0\", \"    #define FXAA_QUALITY_P10 4.0\", \"    #define FXAA_QUALITY_P11 8.0\", \"#endif\", \"\", \"\", \"\", \"/*============================================================================\", \"\", \"                                API PORTING\", \"\", \"============================================================================*/\", \"#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\", \"    #define FxaaBool bool\", \"    #define FxaaDiscard discard\", \"    #define FxaaFloat float\", \"    #define FxaaFloat2 vec2\", \"    #define FxaaFloat3 vec3\", \"    #define FxaaFloat4 vec4\", \"    #define FxaaHalf float\", \"    #define FxaaHalf2 vec2\", \"    #define FxaaHalf3 vec3\", \"    #define FxaaHalf4 vec4\", \"    #define FxaaInt2 ivec2\", \"    #define FxaaSat(x) clamp(x, 0.0, 1.0)\", \"    #define FxaaTex sampler2D\", \"#else\", \"    #define FxaaBool bool\", \"    #define FxaaDiscard clip(-1)\", \"    #define FxaaFloat float\", \"    #define FxaaFloat2 float2\", \"    #define FxaaFloat3 float3\", \"    #define FxaaFloat4 float4\", \"    #define FxaaHalf half\", \"    #define FxaaHalf2 half2\", \"    #define FxaaHalf3 half3\", \"    #define FxaaHalf4 half4\", \"    #define FxaaSat(x) saturate(x)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_100 == 1)\", \"  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\", \"  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_120 == 1)\", \"    // Requires,\", \"    //  #version 120\", \"    // And at least,\", \"    //  #extension GL_EXT_gpu_shader4 : enable\", \"    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\", \"    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\", \"    #if (FXAA_FAST_PIXEL_OFFSET == 1)\", \"        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\", \"    #else\", \"        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\", \"    #endif\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        // use #extension GL_ARB_gpu_shader5 : enable\", \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\", \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\", \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\", \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_130 == 1)\", \"    // Requires \\\"#version 130\\\" or better\", \"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        // use #extension GL_ARB_gpu_shader5 : enable\", \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\", \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\", \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\", \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_3 == 1)\", \"    #define FxaaInt2 float2\", \"    #define FxaaTex sampler2D\", \"    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\", \"    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_4 == 1)\", \"    #define FxaaInt2 int2\", \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\", \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_5 == 1)\", \"    #define FxaaInt2 int2\", \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\", \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\", \"    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\", \"    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\", \"    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\", \"    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"                   GREEN AS LUMA OPTION SUPPORT FUNCTION\", \"============================================================================*/\", \"#if (FXAA_GREEN_AS_LUMA == 0)\", \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\", \"#else\", \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\", \"#endif\", \"\", \"\", \"\", \"\", \"/*============================================================================\", \"\", \"                             FXAA3 QUALITY - PC\", \"\", \"============================================================================*/\", \"#if (FXAA_PC == 1)\", \"/*--------------------------------------------------------------------------*/\", \"FxaaFloat4 FxaaPixelShader(\", \"    //\", \"    // Use noperspective interpolation here (turn off perspective interpolation).\", \"    // {xy} = center of pixel\", \"    FxaaFloat2 pos,\", \"    //\", \"    // Used only for FXAA Console, and not used on the 360 version.\", \"    // Use noperspective interpolation here (turn off perspective interpolation).\", \"    // {xy_} = upper left of pixel\", \"    // {_zw} = lower right of pixel\", \"    FxaaFloat4 fxaaConsolePosPos,\", \"    //\", \"    // Input color texture.\", \"    // {rgb_} = color in linear or perceptual color space\", \"    // if (FXAA_GREEN_AS_LUMA == 0)\", \"    //     {__a} = luma in perceptual color space (not linear)\", \"    FxaaTex tex,\", \"    //\", \"    // Only used on the optimized 360 version of FXAA Console.\", \"    // For everything but 360, just use the same input here as for \\\"tex\\\".\", \"    // For 360, same texture, just alias with a 2nd sampler.\", \"    // This sampler needs to have an exponent bias of -1.\", \"    FxaaTex fxaaConsole360TexExpBiasNegOne,\", \"    //\", \"    // Only used on the optimized 360 version of FXAA Console.\", \"    // For everything but 360, just use the same input here as for \\\"tex\\\".\", \"    // For 360, same texture, just alias with a 3nd sampler.\", \"    // This sampler needs to have an exponent bias of -2.\", \"    FxaaTex fxaaConsole360TexExpBiasNegTwo,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This must be from a constant/uniform.\", \"    // {x_} = 1.0/screenWidthInPixels\", \"    // {_y} = 1.0/screenHeightInPixels\", \"    FxaaFloat2 fxaaQualityRcpFrame,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This must be from a constant/uniform.\", \"    // This effects sub-pixel AA quality and inversely sharpness.\", \"    //   Where N ranges between,\", \"    //     N = 0.50 (default)\", \"    //     N = 0.33 (sharper)\", \"    // {x__} = -N/screenWidthInPixels\", \"    // {_y_} = -N/screenHeightInPixels\", \"    // {_z_} =  N/screenWidthInPixels\", \"    // {__w} =  N/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsoleRcpFrameOpt,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // Not used on 360, but used on PS3 and PC.\", \"    // This must be from a constant/uniform.\", \"    // {x__} = -2.0/screenWidthInPixels\", \"    // {_y_} = -2.0/screenHeightInPixels\", \"    // {_z_} =  2.0/screenWidthInPixels\", \"    // {__w} =  2.0/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsoleRcpFrameOpt2,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\", \"    // This must be from a constant/uniform.\", \"    // {x__} =  8.0/screenWidthInPixels\", \"    // {_y_} =  8.0/screenHeightInPixels\", \"    // {_z_} = -4.0/screenWidthInPixels\", \"    // {__w} = -4.0/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsole360RcpFrameOpt2,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_SUBPIX define.\", \"    // It is here now to allow easier tuning.\", \"    // Choose the amount of sub-pixel aliasing removal.\", \"    // This can effect sharpness.\", \"    //   1.00 - upper limit (softer)\", \"    //   0.75 - default amount of filtering\", \"    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\", \"    //   0.25 - almost off\", \"    //   0.00 - completely off\", \"    FxaaFloat fxaaQualitySubpix,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\", \"    // It is here now to allow easier tuning.\", \"    // The minimum amount of local contrast required to apply algorithm.\", \"    //   0.333 - too little (faster)\", \"    //   0.250 - low quality\", \"    //   0.166 - default\", \"    //   0.125 - high quality\", \"    //   0.063 - overkill (slower)\", \"    FxaaFloat fxaaQualityEdgeThreshold,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\", \"    // It is here now to allow easier tuning.\", \"    // Trims the algorithm from processing darks.\", \"    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\", \"    //   0.0625 - high quality (faster)\", \"    //   0.0312 - visible limit (slower)\", \"    // Special notes when using FXAA_GREEN_AS_LUMA,\", \"    //   Likely want to set this to zero.\", \"    //   As colors that are mostly not-green\", \"    //   will appear very dark in the green channel!\", \"    //   Tune by looking at mostly non-green content,\", \"    //   then start at zero and increase until aliasing is a problem.\", \"    FxaaFloat fxaaQualityEdgeThresholdMin,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\", \"    // It is here now to allow easier tuning.\", \"    // This does not effect PS3, as this needs to be compiled in.\", \"    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\", \"    //   Due to the PS3 being ALU bound,\", \"    //   there are only three safe values here: 2 and 4 and 8.\", \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\", \"    // For all other platforms can be a non-power of two.\", \"    //   8.0 is sharper (default!!!)\", \"    //   4.0 is softer\", \"    //   2.0 is really soft (good only for vector graphics inputs)\", \"    FxaaFloat fxaaConsoleEdgeSharpness,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\", \"    // It is here now to allow easier tuning.\", \"    // This does not effect PS3, as this needs to be compiled in.\", \"    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\", \"    //   Due to the PS3 being ALU bound,\", \"    //   there are only two safe values here: 1/4 and 1/8.\", \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\", \"    // The console setting has a different mapping than the quality setting.\", \"    // Other platforms can use other values.\", \"    //   0.125 leaves less aliasing, but is softer (default!!!)\", \"    //   0.25 leaves more aliasing, and is sharper\", \"    FxaaFloat fxaaConsoleEdgeThreshold,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\", \"    // It is here now to allow easier tuning.\", \"    // Trims the algorithm from processing darks.\", \"    // The console setting has a different mapping than the quality setting.\", \"    // This only applies when FXAA_EARLY_EXIT is 1.\", \"    // This does not apply to PS3,\", \"    // PS3 was simplified to avoid more shader instructions.\", \"    //   0.06 - faster but more aliasing in darks\", \"    //   0.05 - default\", \"    //   0.04 - slower and less aliasing in darks\", \"    // Special notes when using FXAA_GREEN_AS_LUMA,\", \"    //   Likely want to set this to zero.\", \"    //   As colors that are mostly not-green\", \"    //   will appear very dark in the green channel!\", \"    //   Tune by looking at mostly non-green content,\", \"    //   then start at zero and increase until aliasing is a problem.\", \"    FxaaFloat fxaaConsoleEdgeThresholdMin,\", \"    //\", \"    // Extra constants for 360 FXAA Console only.\", \"    // Use zeros or anything else for other platforms.\", \"    // These must be in physical constant registers and NOT immedates.\", \"    // Immedates will result in compiler un-optimizing.\", \"    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\", \"    FxaaFloat4 fxaaConsole360ConstDir\", \") {\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posM;\", \"    posM.x = pos.x;\", \"    posM.y = pos.y;\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        #if (FXAA_DISCARD == 0)\", \"            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\", \"            #if (FXAA_GREEN_AS_LUMA == 0)\", \"                #define lumaM rgbyM.w\", \"            #else\", \"                #define lumaM rgbyM.y\", \"            #endif\", \"        #endif\", \"        #if (FXAA_GREEN_AS_LUMA == 0)\", \"            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\", \"            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\", \"        #else\", \"            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\", \"            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\", \"        #endif\", \"        #if (FXAA_DISCARD == 1)\", \"            #define lumaM luma4A.w\", \"        #endif\", \"        #define lumaE luma4A.z\", \"        #define lumaS luma4A.x\", \"        #define lumaSE luma4A.y\", \"        #define lumaNW luma4B.w\", \"        #define lumaN luma4B.z\", \"        #define lumaW luma4B.x\", \"    #else\", \"        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\", \"        #if (FXAA_GREEN_AS_LUMA == 0)\", \"            #define lumaM rgbyM.w\", \"        #else\", \"            #define lumaM rgbyM.y\", \"        #endif\", \"        #if (FXAA_GLSL_100 == 1)\", \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\", \"        #else\", \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\", \"        #endif\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat maxSM = max(lumaS, lumaM);\", \"    FxaaFloat minSM = min(lumaS, lumaM);\", \"    FxaaFloat maxESM = max(lumaE, maxSM);\", \"    FxaaFloat minESM = min(lumaE, minSM);\", \"    FxaaFloat maxWN = max(lumaN, lumaW);\", \"    FxaaFloat minWN = min(lumaN, lumaW);\", \"    FxaaFloat rangeMax = max(maxWN, maxESM);\", \"    FxaaFloat rangeMin = min(minWN, minESM);\", \"    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\", \"    FxaaFloat range = rangeMax - rangeMin;\", \"    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\", \"    FxaaBool earlyExit = range < rangeMaxClamped;\", \"/*--------------------------------------------------------------------------*/\", \"    if(earlyExit)\", \"        #if (FXAA_DISCARD == 1)\", \"            FxaaDiscard;\", \"        #else\", \"            return rgbyM;\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    #if (FXAA_GATHER4_ALPHA == 0)\", \"        #if (FXAA_GLSL_100 == 1)\", \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\", \"        #else\", \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\", \"        #endif\", \"    #else\", \"        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\", \"        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNS = lumaN + lumaS;\", \"    FxaaFloat lumaWE = lumaW + lumaE;\", \"    FxaaFloat subpixRcpRange = 1.0/range;\", \"    FxaaFloat subpixNSWE = lumaNS + lumaWE;\", \"    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\", \"    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNESE = lumaNE + lumaSE;\", \"    FxaaFloat lumaNWNE = lumaNW + lumaNE;\", \"    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\", \"    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNWSW = lumaNW + lumaSW;\", \"    FxaaFloat lumaSWSE = lumaSW + lumaSE;\", \"    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\", \"    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\", \"    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\", \"    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\", \"    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\", \"    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\", \"    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\", \"    FxaaBool horzSpan = edgeHorz >= edgeVert;\", \"    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\", \"/*--------------------------------------------------------------------------*/\", \"    if(!horzSpan) lumaN = lumaW;\", \"    if(!horzSpan) lumaS = lumaE;\", \"    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\", \"    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat gradientN = lumaN - lumaM;\", \"    FxaaFloat gradientS = lumaS - lumaM;\", \"    FxaaFloat lumaNN = lumaN + lumaM;\", \"    FxaaFloat lumaSS = lumaS + lumaM;\", \"    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\", \"    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\", \"    if(pairN) lengthSign = -lengthSign;\", \"    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posB;\", \"    posB.x = posM.x;\", \"    posB.y = posM.y;\", \"    FxaaFloat2 offNP;\", \"    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\", \"    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\", \"    if(!horzSpan) posB.x += lengthSign * 0.5;\", \"    if( horzSpan) posB.y += lengthSign * 0.5;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posN;\", \"    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\", \"    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\", \"    FxaaFloat2 posP;\", \"    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\", \"    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\", \"    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\", \"    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\", \"    FxaaFloat subpixE = subpixC * subpixC;\", \"    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\", \"/*--------------------------------------------------------------------------*/\", \"    if(!pairN) lumaNN = lumaSS;\", \"    FxaaFloat gradientScaled = gradient * 1.0/4.0;\", \"    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\", \"    FxaaFloat subpixF = subpixD * subpixE;\", \"    FxaaBool lumaMLTZero = lumaMM < 0.0;\", \"/*--------------------------------------------------------------------------*/\", \"    lumaEndN -= lumaNN * 0.5;\", \"    lumaEndP -= lumaNN * 0.5;\", \"    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\", \"    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\", \"    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\", \"    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\", \"    FxaaBool doneNP = (!doneN) || (!doneP);\", \"    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\", \"    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\", \"/*--------------------------------------------------------------------------*/\", \"    if(doneNP) {\", \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"        doneN = abs(lumaEndN) >= gradientScaled;\", \"        doneP = abs(lumaEndP) >= gradientScaled;\", \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\", \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\", \"        doneNP = (!doneN) || (!doneP);\", \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\", \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\", \"/*--------------------------------------------------------------------------*/\", \"        #if (FXAA_QUALITY_PS > 3)\", \"        if(doneNP) {\", \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"            doneN = abs(lumaEndN) >= gradientScaled;\", \"            doneP = abs(lumaEndP) >= gradientScaled;\", \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\", \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\", \"            doneNP = (!doneN) || (!doneP);\", \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\", \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\", \"/*--------------------------------------------------------------------------*/\", \"            #if (FXAA_QUALITY_PS > 4)\", \"            if(doneNP) {\", \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                doneN = abs(lumaEndN) >= gradientScaled;\", \"                doneP = abs(lumaEndP) >= gradientScaled;\", \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\", \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\", \"                doneNP = (!doneN) || (!doneP);\", \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\", \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\", \"/*--------------------------------------------------------------------------*/\", \"                #if (FXAA_QUALITY_PS > 5)\", \"                if(doneNP) {\", \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                    doneN = abs(lumaEndN) >= gradientScaled;\", \"                    doneP = abs(lumaEndP) >= gradientScaled;\", \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\", \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\", \"                    doneNP = (!doneN) || (!doneP);\", \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\", \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\", \"/*--------------------------------------------------------------------------*/\", \"                    #if (FXAA_QUALITY_PS > 6)\", \"                    if(doneNP) {\", \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                        doneN = abs(lumaEndN) >= gradientScaled;\", \"                        doneP = abs(lumaEndP) >= gradientScaled;\", \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\", \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\", \"                        doneNP = (!doneN) || (!doneP);\", \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\", \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\", \"/*--------------------------------------------------------------------------*/\", \"                        #if (FXAA_QUALITY_PS > 7)\", \"                        if(doneNP) {\", \"                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                            doneN = abs(lumaEndN) >= gradientScaled;\", \"                            doneP = abs(lumaEndP) >= gradientScaled;\", \"                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\", \"                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\", \"                            doneNP = (!doneN) || (!doneP);\", \"                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\", \"                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\", \"/*--------------------------------------------------------------------------*/\", \"    #if (FXAA_QUALITY_PS > 8)\", \"    if(doneNP) {\", \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"        doneN = abs(lumaEndN) >= gradientScaled;\", \"        doneP = abs(lumaEndP) >= gradientScaled;\", \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\", \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\", \"        doneNP = (!doneN) || (!doneP);\", \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\", \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\", \"/*--------------------------------------------------------------------------*/\", \"        #if (FXAA_QUALITY_PS > 9)\", \"        if(doneNP) {\", \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"            doneN = abs(lumaEndN) >= gradientScaled;\", \"            doneP = abs(lumaEndP) >= gradientScaled;\", \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\", \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\", \"            doneNP = (!doneN) || (!doneP);\", \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\", \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\", \"/*--------------------------------------------------------------------------*/\", \"            #if (FXAA_QUALITY_PS > 10)\", \"            if(doneNP) {\", \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                doneN = abs(lumaEndN) >= gradientScaled;\", \"                doneP = abs(lumaEndP) >= gradientScaled;\", \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\", \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\", \"                doneNP = (!doneN) || (!doneP);\", \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\", \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\", \"/*--------------------------------------------------------------------------*/\", \"                #if (FXAA_QUALITY_PS > 11)\", \"                if(doneNP) {\", \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                    doneN = abs(lumaEndN) >= gradientScaled;\", \"                    doneP = abs(lumaEndP) >= gradientScaled;\", \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\", \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\", \"                    doneNP = (!doneN) || (!doneP);\", \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\", \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\", \"/*--------------------------------------------------------------------------*/\", \"                    #if (FXAA_QUALITY_PS > 12)\", \"                    if(doneNP) {\", \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                        doneN = abs(lumaEndN) >= gradientScaled;\", \"                        doneP = abs(lumaEndP) >= gradientScaled;\", \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\", \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\", \"                        doneNP = (!doneN) || (!doneP);\", \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\", \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\", \"/*--------------------------------------------------------------------------*/\", \"                    }\", \"                    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                }\", \"                #endif\", \"/*--------------------------------------------------------------------------*/\", \"            }\", \"            #endif\", \"/*--------------------------------------------------------------------------*/\", \"        }\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    }\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                        }\", \"                        #endif\", \"/*--------------------------------------------------------------------------*/\", \"                    }\", \"                    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                }\", \"                #endif\", \"/*--------------------------------------------------------------------------*/\", \"            }\", \"            #endif\", \"/*--------------------------------------------------------------------------*/\", \"        }\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    }\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat dstN = posM.x - posN.x;\", \"    FxaaFloat dstP = posP.x - posM.x;\", \"    if(!horzSpan) dstN = posM.y - posN.y;\", \"    if(!horzSpan) dstP = posP.y - posM.y;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\", \"    FxaaFloat spanLength = (dstP + dstN);\", \"    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\", \"    FxaaFloat spanLengthRcp = 1.0/spanLength;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaBool directionN = dstN < dstP;\", \"    FxaaFloat dst = min(dstN, dstP);\", \"    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\", \"    FxaaFloat subpixG = subpixF * subpixF;\", \"    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\", \"    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\", \"    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\", \"    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\", \"    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\", \"    #if (FXAA_DISCARD == 1)\", \"        return FxaaTexTop(tex, posM);\", \"    #else\", \"        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\", \"    #endif\", \"}\", \"/*==========================================================================*/\", \"#endif\", \"\", \"void main() {\", \"  gl_FragColor = FxaaPixelShader(\", \"    vUv,\", \"    vec4(0.0),\", \"    tDiffuse,\", \"    tDiffuse,\", \"    tDiffuse,\", \"    resolution,\", \"    vec4(0.0),\", \"    vec4(0.0),\", \"    vec4(0.0),\", \"    0.75,\", \"    0.166,\", \"    0.0833,\", \"    0.0,\", \"    0.0,\", \"    0.0,\", \"    vec4(0.0)\", \"  );\", \"\", \"  // TODO avoid querying texture twice for same texel\", \"  gl_FragColor.a = texture2D(tDiffuse, vUv).a;\", \"}\"].join(\"\\n\")\n\n};\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/FXAA.js?");

/***/ }),

/***/ "./client/lib/glsl/LuminosityHighPassShader.js":
/*!*****************************************************!*\
  !*** ./client/lib/glsl/LuminosityHighPassShader.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author bhouston / http://clara.io/\r\n *\r\n * Luminosity\r\n * http://en.wikipedia.org/wiki/Luminosity\r\n */\n\nTHREE.LuminosityHighPassShader = {\n\n\t\tshaderID: \"luminosityHighPass\",\n\n\t\tuniforms: {\n\n\t\t\t\t\"tDiffuse\": { type: \"t\", value: null },\n\t\t\t\t\"luminosityThreshold\": { type: \"f\", value: 1.0 },\n\t\t\t\t\"smoothWidth\": { type: \"f\", value: 1.0 },\n\t\t\t\t\"defaultColor\": { type: \"c\", value: new THREE.Color(0x000000) },\n\t\t\t\t\"defaultOpacity\": { type: \"f\", value: 0.0 }\n\n\t\t},\n\n\t\tvertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n\n\t\tfragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform vec3 defaultColor;\", \"uniform float defaultOpacity;\", \"uniform float luminosityThreshold;\", \"uniform float smoothWidth;\", \"varying vec2 vUv;\", \"void main() {\", \"vec4 texel = texture2D( tDiffuse, vUv );\", \"vec3 luma = vec3( 0.299, 0.587, 0.114 );\", \"float v = dot( texel.xyz, luma );\", \"vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\", \"float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\", \"gl_FragColor = mix( outputColor, texel, alpha );\", \"}\"].join(\"\\n\")\n\n};\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/LuminosityHighPassShader.js?");

/***/ }),

/***/ "./client/lib/glsl/MobileCheck.js":
/*!****************************************!*\
  !*** ./client/lib/glsl/MobileCheck.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("window.mobilecheck = function () {\n  var check = false;\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/MobileCheck.js?");

/***/ }),

/***/ "./client/lib/glsl/RenderPass.js":
/*!***************************************!*\
  !*** ./client/lib/glsl/RenderPass.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\n\nTHREE.RenderPass = function (scene, camera, overrideMaterial, clearColor, clearAlpha) {\n\n\t\tTHREE.Pass.call(this);\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = clearAlpha !== undefined ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n};\n\nTHREE.RenderPass.prototype = Object.assign(Object.create(THREE.Pass.prototype), {\n\n\t\tconstructor: THREE.RenderPass,\n\n\t\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\n\t\t\t\tvar oldAutoClear = renderer.autoClear;\n\t\t\t\trenderer.autoClear = false;\n\n\t\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t\t\tvar oldClearColor, oldClearAlpha;\n\n\t\t\t\tif (this.clearColor) {\n\n\t\t\t\t\t\toldClearColor = renderer.getClearColor().getHex();\n\t\t\t\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\t\t\t\trenderer.setClearColor(this.clearColor, this.clearAlpha);\n\t\t\t\t}\n\n\t\t\t\tif (this.clearDepth) {\n\n\t\t\t\t\t\trenderer.clearDepth();\n\t\t\t\t}\n\n\t\t\t\trenderer.render(this.scene, this.camera, this.renderToScreen ? null : readBuffer, this.clear);\n\n\t\t\t\tif (this.clearColor) {\n\n\t\t\t\t\t\trenderer.setClearColor(oldClearColor, oldClearAlpha);\n\t\t\t\t}\n\n\t\t\t\tthis.scene.overrideMaterial = null;\n\t\t\t\trenderer.autoClear = oldAutoClear;\n\t\t}\n\n});\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/RenderPass.js?");

/***/ }),

/***/ "./client/lib/glsl/ShaderPass.js":
/*!***************************************!*\
  !*** ./client/lib/glsl/ShaderPass.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\n\nTHREE.ShaderPass = function (shader, textureID) {\n\n\tTHREE.Pass.call(this);\n\n\tthis.textureID = textureID !== undefined ? textureID : \"tDiffuse\";\n\n\tif (shader instanceof THREE.ShaderMaterial) {\n\n\t\tthis.uniforms = shader.uniforms;\n\n\t\tthis.material = shader;\n\t} else if (shader) {\n\n\t\tthis.uniforms = THREE.UniformsUtils.clone(shader.uniforms);\n\n\t\tthis.material = new THREE.ShaderMaterial({\n\n\t\t\tdefines: shader.defines || {},\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t});\n\t}\n\n\tthis.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\tthis.scene = new THREE.Scene();\n\n\tthis.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\n\tthis.scene.add(this.quad);\n};\n\nTHREE.ShaderPass.prototype = Object.assign(Object.create(THREE.Pass.prototype), {\n\n\tconstructor: THREE.ShaderPass,\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\n\t\tif (this.uniforms[this.textureID]) {\n\n\t\t\tthis.uniforms[this.textureID].value = readBuffer.texture;\n\t\t}\n\n\t\tthis.quad.material = this.material;\n\n\t\tif (this.renderToScreen) {\n\n\t\t\trenderer.render(this.scene, this.camera);\n\t\t} else {\n\n\t\t\trenderer.render(this.scene, this.camera, writeBuffer, this.clear);\n\t\t}\n\t}\n\n});\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/ShaderPass.js?");

/***/ }),

/***/ "./client/lib/glsl/UnrealBloomPass.js":
/*!********************************************!*\
  !*** ./client/lib/glsl/UnrealBloomPass.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n * @author spidersharma / http://eduperiment.com/\r\n *\r\n * Inspired from Unreal Engine\r\n * https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\r\n */\nTHREE.UnrealBloomPass = function (resolution, strength, radius, threshold) {\n\n\tTHREE.Pass.call(this);\n\n\tthis.strength = strength !== undefined ? strength : 1;\n\tthis.radius = radius;\n\tthis.threshold = threshold;\n\tthis.resolution = resolution !== undefined ? new THREE.Vector2(resolution.x, resolution.y) : new THREE.Vector2(256, 256);\n\n\t// render targets\n\tvar pars = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat };\n\tthis.renderTargetsHorizontal = [];\n\tthis.renderTargetsVertical = [];\n\tthis.nMips = 5;\n\tvar resx = Math.round(this.resolution.x / 2);\n\tvar resy = Math.round(this.resolution.y / 2);\n\n\tthis.renderTargetBright = new THREE.WebGLRenderTarget(resx, resy, pars);\n\tthis.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\n\tthis.renderTargetBright.texture.generateMipmaps = false;\n\n\tfor (var i = 0; i < this.nMips; i++) {\n\n\t\tvar renderTarget = new THREE.WebGLRenderTarget(resx, resy, pars);\n\n\t\trenderTarget.texture.name = \"UnrealBloomPass.h\" + i;\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\tthis.renderTargetsHorizontal.push(renderTarget);\n\n\t\tvar renderTarget = new THREE.WebGLRenderTarget(resx, resy, pars);\n\n\t\trenderTarget.texture.name = \"UnrealBloomPass.v\" + i;\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\tthis.renderTargetsVertical.push(renderTarget);\n\n\t\tresx = Math.round(resx / 2);\n\n\t\tresy = Math.round(resy / 2);\n\t}\n\n\t// luminosity high pass material\n\n\tif (THREE.LuminosityHighPassShader === undefined) console.error(\"THREE.UnrealBloomPass relies on THREE.LuminosityHighPassShader\");\n\n\tvar highPassShader = THREE.LuminosityHighPassShader;\n\tthis.highPassUniforms = THREE.UniformsUtils.clone(highPassShader.uniforms);\n\n\tthis.highPassUniforms[\"luminosityThreshold\"].value = threshold;\n\tthis.highPassUniforms[\"smoothWidth\"].value = 0.01;\n\n\tthis.materialHighPassFilter = new THREE.ShaderMaterial({\n\t\tuniforms: this.highPassUniforms,\n\t\tvertexShader: highPassShader.vertexShader,\n\t\tfragmentShader: highPassShader.fragmentShader,\n\t\tdefines: {}\n\t});\n\n\t// Gaussian Blur Materials\n\tthis.separableBlurMaterials = [];\n\tvar kernelSizeArray = [3, 5, 7, 9, 11];\n\tvar resx = Math.round(this.resolution.x / 2);\n\tvar resy = Math.round(this.resolution.y / 2);\n\n\tfor (var i = 0; i < this.nMips; i++) {\n\n\t\tthis.separableBlurMaterials.push(this.getSeperableBlurMaterial(kernelSizeArray[i]));\n\n\t\tthis.separableBlurMaterials[i].uniforms[\"texSize\"].value = new THREE.Vector2(resx, resy);\n\n\t\tresx = Math.round(resx / 2);\n\n\t\tresy = Math.round(resy / 2);\n\t}\n\n\t// Composite material\n\tthis.compositeMaterial = this.getCompositeMaterial(this.nMips);\n\tthis.compositeMaterial.uniforms[\"blurTexture1\"].value = this.renderTargetsVertical[0].texture;\n\tthis.compositeMaterial.uniforms[\"blurTexture2\"].value = this.renderTargetsVertical[1].texture;\n\tthis.compositeMaterial.uniforms[\"blurTexture3\"].value = this.renderTargetsVertical[2].texture;\n\tthis.compositeMaterial.uniforms[\"blurTexture4\"].value = this.renderTargetsVertical[3].texture;\n\tthis.compositeMaterial.uniforms[\"blurTexture5\"].value = this.renderTargetsVertical[4].texture;\n\tthis.compositeMaterial.uniforms[\"bloomStrength\"].value = strength;\n\tthis.compositeMaterial.uniforms[\"bloomRadius\"].value = 0.1;\n\tthis.compositeMaterial.needsUpdate = true;\n\n\tvar bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\n\tthis.compositeMaterial.uniforms[\"bloomFactors\"].value = bloomFactors;\n\tthis.bloomTintColors = [new THREE.Vector3(1, 1, 1), new THREE.Vector3(1, 1, 1), new THREE.Vector3(1, 1, 1), new THREE.Vector3(1, 1, 1), new THREE.Vector3(1, 1, 1)];\n\tthis.compositeMaterial.uniforms[\"bloomTintColors\"].value = this.bloomTintColors;\n\n\t// copy material\n\tif (THREE.CopyShader === undefined) {\n\n\t\tconsole.error(\"THREE.BloomPass relies on THREE.CopyShader\");\n\t}\n\n\tvar copyShader = THREE.CopyShader;\n\n\tthis.copyUniforms = THREE.UniformsUtils.clone(copyShader.uniforms);\n\tthis.copyUniforms[\"opacity\"].value = 1.0;\n\n\tthis.materialCopy = new THREE.ShaderMaterial({\n\t\tuniforms: this.copyUniforms,\n\t\tvertexShader: copyShader.vertexShader,\n\t\tfragmentShader: copyShader.fragmentShader,\n\t\tblending: THREE.AdditiveBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false,\n\t\ttransparent: true\n\t});\n\n\tthis.enabled = true;\n\tthis.needsSwap = false;\n\n\tthis.oldClearColor = new THREE.Color();\n\tthis.oldClearAlpha = 1;\n\n\tthis.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\tthis.scene = new THREE.Scene();\n\n\tthis.basic = new THREE.MeshBasicMaterial();\n\n\tthis.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\n\tthis.scene.add(this.quad);\n};\n\nTHREE.UnrealBloomPass.prototype = Object.assign(Object.create(THREE.Pass.prototype), {\n\n\tconstructor: THREE.UnrealBloomPass,\n\n\tdispose: function () {\n\n\t\tfor (var i = 0; i < this.renderTargetsHorizontal.length; i++) {\n\n\t\t\tthis.renderTargetsHorizontal[i].dispose();\n\t\t}\n\n\t\tfor (var i = 0; i < this.renderTargetsVertical.length; i++) {\n\n\t\t\tthis.renderTargetsVertical[i].dispose();\n\t\t}\n\n\t\tthis.renderTargetBright.dispose();\n\t},\n\n\tsetSize: function (width, height) {\n\n\t\tvar resx = Math.round(width / 2);\n\t\tvar resy = Math.round(height / 2);\n\n\t\tthis.renderTargetBright.setSize(resx, resy);\n\n\t\tfor (var i = 0; i < this.nMips; i++) {\n\n\t\t\tthis.renderTargetsHorizontal[i].setSize(resx, resy);\n\t\t\tthis.renderTargetsVertical[i].setSize(resx, resy);\n\n\t\t\tthis.separableBlurMaterials[i].uniforms[\"texSize\"].value = new THREE.Vector2(resx, resy);\n\n\t\t\tresx = Math.round(resx / 2);\n\t\t\tresy = Math.round(resy / 2);\n\t\t}\n\t},\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\n\t\tthis.oldClearColor.copy(renderer.getClearColor());\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\trenderer.setClearColor(new THREE.Color(0, 0, 0), 0);\n\n\t\tif (maskActive) renderer.context.disable(renderer.context.STENCIL_TEST);\n\n\t\t// Render input to screen\n\n\t\tif (this.renderToScreen) {\n\n\t\t\tthis.quad.material = this.basic;\n\t\t\tthis.basic.map = readBuffer.texture;\n\n\t\t\trenderer.render(this.scene, this.camera, undefined, true);\n\t\t}\n\n\t\t// 1. Extract Bright Areas\n\n\t\tthis.highPassUniforms[\"tDiffuse\"].value = readBuffer.texture;\n\t\tthis.highPassUniforms[\"luminosityThreshold\"].value = this.threshold;\n\t\tthis.quad.material = this.materialHighPassFilter;\n\n\t\trenderer.render(this.scene, this.camera, this.renderTargetBright, true);\n\n\t\t// 2. Blur All the mips progressively\n\n\t\tvar inputRenderTarget = this.renderTargetBright;\n\n\t\tfor (var i = 0; i < this.nMips; i++) {\n\n\t\t\tthis.quad.material = this.separableBlurMaterials[i];\n\n\t\t\tthis.separableBlurMaterials[i].uniforms[\"colorTexture\"].value = inputRenderTarget.texture;\n\t\t\tthis.separableBlurMaterials[i].uniforms[\"direction\"].value = THREE.UnrealBloomPass.BlurDirectionX;\n\t\t\trenderer.render(this.scene, this.camera, this.renderTargetsHorizontal[i], true);\n\n\t\t\tthis.separableBlurMaterials[i].uniforms[\"colorTexture\"].value = this.renderTargetsHorizontal[i].texture;\n\t\t\tthis.separableBlurMaterials[i].uniforms[\"direction\"].value = THREE.UnrealBloomPass.BlurDirectionY;\n\t\t\trenderer.render(this.scene, this.camera, this.renderTargetsVertical[i], true);\n\n\t\t\tinputRenderTarget = this.renderTargetsVertical[i];\n\t\t}\n\n\t\t// Composite All the mips\n\n\t\tthis.quad.material = this.compositeMaterial;\n\t\tthis.compositeMaterial.uniforms[\"bloomStrength\"].value = this.strength;\n\t\tthis.compositeMaterial.uniforms[\"bloomRadius\"].value = this.radius;\n\t\tthis.compositeMaterial.uniforms[\"bloomTintColors\"].value = this.bloomTintColors;\n\n\t\trenderer.render(this.scene, this.camera, this.renderTargetsHorizontal[0], true);\n\n\t\t// Blend it additively over the input texture\n\n\t\tthis.quad.material = this.materialCopy;\n\t\tthis.copyUniforms[\"tDiffuse\"].value = this.renderTargetsHorizontal[0].texture;\n\n\t\tif (maskActive) renderer.context.enable(renderer.context.STENCIL_TEST);\n\n\t\tif (this.renderToScreen) {\n\n\t\t\trenderer.render(this.scene, this.camera, undefined, false);\n\t\t} else {\n\n\t\t\trenderer.render(this.scene, this.camera, readBuffer, false);\n\t\t}\n\n\t\t// Restore renderer settings\n\n\t\trenderer.setClearColor(this.oldClearColor, this.oldClearAlpha);\n\t\trenderer.autoClear = oldAutoClear;\n\t},\n\n\tgetSeperableBlurMaterial: function (kernelRadius) {\n\n\t\treturn new THREE.ShaderMaterial({\n\n\t\t\tdefines: {\n\t\t\t\t\"KERNEL_RADIUS\": kernelRadius,\n\t\t\t\t\"SIGMA\": kernelRadius\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t\"colorTexture\": { value: null },\n\t\t\t\t\"texSize\": { value: new THREE.Vector2(0.5, 0.5) },\n\t\t\t\t\"direction\": { value: new THREE.Vector2(0.5, 0.5) }\n\t\t\t},\n\n\t\t\tvertexShader: \"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\n\n\t\t\tfragmentShader: \"#include <common>\\\r\n\t\t\t\tvarying vec2 vUv;\\n\\\r\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\r\n\t\t\t\tuniform vec2 texSize;\\\r\n\t\t\t\tuniform vec2 direction;\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\r\n\t\t\t\t}\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\r\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\r\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\r\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\r\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\r\n\t\t\t\t\t\tfloat x = float(i);\\\r\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\r\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\r\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\r\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\r\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\r\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\r\n\t\t\t\t\t}\\\r\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\r\n\t\t\t\t}\"\n\t\t});\n\t},\n\n\tgetCompositeMaterial: function (nMips) {\n\n\t\treturn new THREE.ShaderMaterial({\n\n\t\t\tdefines: {\n\t\t\t\t\"NUM_MIPS\": nMips\n\t\t\t},\n\n\t\t\tuniforms: {\n\t\t\t\t\"blurTexture1\": { value: null },\n\t\t\t\t\"blurTexture2\": { value: null },\n\t\t\t\t\"blurTexture3\": { value: null },\n\t\t\t\t\"blurTexture4\": { value: null },\n\t\t\t\t\"blurTexture5\": { value: null },\n\t\t\t\t\"dirtTexture\": { value: null },\n\t\t\t\t\"bloomStrength\": { value: 1.0 },\n\t\t\t\t\"bloomFactors\": { value: null },\n\t\t\t\t\"bloomTintColors\": { value: null },\n\t\t\t\t\"bloomRadius\": { value: 0.0 }\n\t\t\t},\n\n\t\t\tvertexShader: \"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\n\n\t\t\tfragmentShader: \"varying vec2 vUv;\\\r\n\t\t\t\tuniform sampler2D blurTexture1;\\\r\n\t\t\t\tuniform sampler2D blurTexture2;\\\r\n\t\t\t\tuniform sampler2D blurTexture3;\\\r\n\t\t\t\tuniform sampler2D blurTexture4;\\\r\n\t\t\t\tuniform sampler2D blurTexture5;\\\r\n\t\t\t\tuniform sampler2D dirtTexture;\\\r\n\t\t\t\tuniform float bloomStrength;\\\r\n\t\t\t\tuniform float bloomRadius;\\\r\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\r\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\r\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\r\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\r\n\t\t\t\t}\\\r\n\t\t\t\t\\\r\n\t\t\t\tvoid main() {\\\r\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\r\n\t\t\t\t}\"\n\t\t});\n\t}\n\n});\n\nTHREE.UnrealBloomPass.BlurDirectionX = new THREE.Vector2(1.0, 0.0);\nTHREE.UnrealBloomPass.BlurDirectionY = new THREE.Vector2(0.0, 1.0);\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/UnrealBloomPass.js?");

/***/ }),

/***/ "./client/lib/glsl/depth.js":
/*!**********************************!*\
  !*** ./client/lib/glsl/depth.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n  @author meatbags / https://github.com/meatbags\r\n  **/\n\nTHREE.DepthShader = {\n  uniforms: {},\n  vertexShader: `\n    varying vec4 vModel;\n    varying vec3 vNormal;\n\n    void main() {\n      vNormal = normal;\n      vModel = modelMatrix * vec4(position, 1.0);\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n  `,\n  fragmentShader: `\n    varying vec4 vModel;\n    varying vec3 vNormal;\n\n    void main() {\n      float minc = 0.0625;\n      float invc = 0.9375;\n\n      if (vModel.y <= 0.) {\n        gl_FragColor = vec4(minc, minc, minc, 1.0);\n      } else {\n        float t = (vModel.y >= 0.0) ? vModel.y / 3.0 : 0.0;\n        float d = (t <= 1.0) ? t : max(1.0 - 0.75 * (t - 1.0), 0.0);\n        d = d * invc + minc;\n        gl_FragColor = vec4(d, d, d, 1.0);\n      }\n    }\n  `\n};\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/depth.js?");

/***/ }),

/***/ "./client/lib/glsl/index.js":
/*!**********************************!*\
  !*** ./client/lib/glsl/index.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CopyShader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CopyShader.js */ \"./client/lib/glsl/CopyShader.js\");\n/* harmony import */ var _CopyShader_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_CopyShader_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _EffectComposer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EffectComposer.js */ \"./client/lib/glsl/EffectComposer.js\");\n/* harmony import */ var _EffectComposer_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_EffectComposer_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _FXAA_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FXAA.js */ \"./client/lib/glsl/FXAA.js\");\n/* harmony import */ var _FXAA_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_FXAA_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _LuminosityHighPassShader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LuminosityHighPassShader.js */ \"./client/lib/glsl/LuminosityHighPassShader.js\");\n/* harmony import */ var _LuminosityHighPassShader_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_LuminosityHighPassShader_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _MobileCheck_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MobileCheck.js */ \"./client/lib/glsl/MobileCheck.js\");\n/* harmony import */ var _MobileCheck_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_MobileCheck_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _RenderPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RenderPass.js */ \"./client/lib/glsl/RenderPass.js\");\n/* harmony import */ var _RenderPass_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ShaderPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ShaderPass.js */ \"./client/lib/glsl/ShaderPass.js\");\n/* harmony import */ var _ShaderPass_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ShaderPass_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _UnrealBloomPass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./UnrealBloomPass */ \"./client/lib/glsl/UnrealBloomPass.js\");\n/* harmony import */ var _UnrealBloomPass__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_UnrealBloomPass__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _mechanics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mechanics */ \"./client/lib/glsl/mechanics.js\");\n/* harmony import */ var _mechanics__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_mechanics__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _depth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./depth */ \"./client/lib/glsl/depth.js\");\n/* harmony import */ var _depth__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_depth__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n//import './SMAA.js';\n//import './SMAAPass.js';\n\n\n\n\n\n\n//import './noise';\n\n//import './poster';\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/index.js?");

/***/ }),

/***/ "./client/lib/glsl/mechanics.js":
/*!**************************************!*\
  !*** ./client/lib/glsl/mechanics.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\r\n  @author meatbags / https://github.com/meatbags\r\n  **/\n\n// modify shader depending on time of day\nconst hours = new Date().getHours();\nconst BLUE = 'BLUE';\nconst GOLD = 'GOLD';\nconst RED = 'RED';\nlet SHADER_TYPE = hours < 6 || hours >= 21 ? BLUE : hours == 12 ? GOLD : RED;\n\n// for testing\nif (window.location.hash == '#red') {\n  SHADER_TYPE = RED;\n} else if (window.location.hash == '#blue') {\n  SHADER_TYPE = BLUE;\n} else if (window.location.hash == '#gold') {\n  SHADER_TYPE = GOLD;\n}\n\nTHREE.MechanicsShader = {\n  uniforms: {\n    'time': { value: 0.0 },\n    'width': { value: 100.0 },\n    'height': { value: 100.0 },\n    'tDiffuse': { value: null }\n  },\n  vertexShader: `\n    varying vec2 vUv;\n\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  `,\n  fragmentShader: `\n    #define PI 3.14159\n    #define UV_SCALE 0.02\n    #define MAX_HEIGHT 4.0\n\n    varying vec2 vUv;\n    uniform sampler2D tDiffuse;\n    uniform float time;\n\n    float rand(vec2 seed) {\n      return fract(sin(dot(seed.xy, vec2(12.9898,78.233))) * 43758.5453);\n    }\n\n    vec2 randVec2() {\n      return vec2(rand(vUv + time), rand(vUv + time + 1.));\n    }\n\n    vec3 getPosition(vec2 coords) {\n      vec4 sample = texture2D(tDiffuse, coords);\n      vec3 res = vec3(coords.x / UV_SCALE, sample.x * MAX_HEIGHT, coords.y / UV_SCALE);\n      return res;\n    }\n\n    float computeAO(vec2 uvOff, vec3 P, vec3 N) {\n      vec3 Vpos = getPosition(vUv + uvOff * UV_SCALE) - P;\n      vec3 Vnorm = normalize(Vpos);\n      float dist = length(Vpos);\n      return max(dot(N, Vnorm) * (1.0 / (1.0 + dist)), 0.0);\n    }\n\n    float sampleAO(vec3 P) {\n      vec3 N = vec3(0., 1., 0.);\n      vec2 randOffset = randVec2();\n      const int iterations = 4;\n      float totalAO = 0.0;\n\n      for (int i=0; i<iterations; i++) {\n        vec2 coord1 = reflect(vec2(\n          (i < 2) ? ((i == 0) ? 1.0 : -1.0) : 0.0,\n          (i > 1) ? ((i == 2) ? 1.0 : -1.0) : 0.0\n        ), randOffset);\n        vec2 coord2 = vec2(\n          coord1.x * 0.707 - coord1.y * 0.707,\n          coord1.x * 0.707 + coord1.y * 0.707\n        );\n        totalAO += computeAO(coord1 * 0.25, P, N);\n        totalAO += computeAO(coord2 * 0.5, P, N);\n        totalAO += computeAO(coord1 * 0.75, P, N);\n        totalAO += computeAO(coord2, P, N);\n      }\n\n      return (totalAO / (float(iterations) * 4.));\n    }\n\n    void main() {\n      float minc = 0.0625;\n      //float invc = 0.9375;\n\n      vec4 tex = texture2D(tDiffuse, vUv);\n      vec3 P = getPosition(vUv);\n      float ao = sampleAO(P);\n      vec4 frag = max(tex - ao, minc);\n\n      ${SHADER_TYPE == RED ? \"frag.r += ao * 0.5;\" : SHADER_TYPE == BLUE ? \"frag.g += ao * 0.2; frag.b += ao * 0.6;\" : \"frag.r += ao * 0.3; frag.g += ao * 0.2;\"}\n\n      gl_FragColor = frag;\n    }\n  `\n};\n\n// render pass\nTHREE.MechanicsPass = function (size) {\n  THREE.Pass.call(this);\n\n  this.shader = THREE.MechanicsShader;\n  this.material = new THREE.ShaderMaterial(this.shader);\n  this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n  this.scene = new THREE.Scene();\n  this.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), this.material);\n  this.quad.frustumCulled = false;\n  this.scene.add(this.quad);\n  this.time = 0;\n};\n\nTHREE.MechanicsPass.prototype = Object.assign(Object.create(THREE.Pass.prototype), {\n  constructor: THREE.MechanicsPass,\n  render: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n    this.shader.uniforms['tDiffuse'].value = readBuffer.texture;\n    this.time = (this.time + delta) % 10.;\n    this.shader.uniforms['time'].value = this.time;\n\n    if (this.renderToScreen) {\n      renderer.render(this.scene, this.camera);\n    } else {\n      renderer.render(this.scene, this.camera, writeBuffer, this.clear);\n    }\n  }\n});\n\n//# sourceURL=webpack://mmommo/./client/lib/glsl/mechanics.js?");

/***/ }),

/***/ "./client/src/client/client.js":
/*!*************************************!*\
  !*** ./client/src/client/client.js ***!
  \*************************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return Client; });\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared */ \"./shared/index.js\");\n/* harmony import */ var _network__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./network */ \"./client/src/client/network/index.js\");\n/* harmony import */ var _players__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./players */ \"./client/src/client/players/index.js\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui */ \"./client/src/client/ui/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./client/src/utils/index.js\");\n/*\r\n * Client\r\n * -- handle connection & server req/ res\r\n * -- hook UI & player controls to server requests\r\n */\n\n\n\n\n\n\n\nclass Client {\n  constructor(url) {\n    this.config = _shared__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].client;\n    this.url = url;\n    this.state = new _shared__WEBPACK_IMPORTED_MODULE_0__[\"ClientState\"]();\n\n    // ui/ utils\n    this.namePicker = new _ui__WEBPACK_IMPORTED_MODULE_3__[\"NamePicker\"](this);\n    this.colourPicker = new _ui__WEBPACK_IMPORTED_MODULE_3__[\"ColourPicker\"](this);\n    this.console = new _ui__WEBPACK_IMPORTED_MODULE_3__[\"Console\"](this);\n    this.hud = new _ui__WEBPACK_IMPORTED_MODULE_3__[\"HUD\"]();\n    this.socket = new _network__WEBPACK_IMPORTED_MODULE_1__[\"Socket\"](this);\n    this.packet = new _network__WEBPACK_IMPORTED_MODULE_1__[\"PacketUtils\"](this.socket.getSocket());\n    this.player = new _players__WEBPACK_IMPORTED_MODULE_2__[\"Player\"]();\n    this.peerManager = new _players__WEBPACK_IMPORTED_MODULE_2__[\"PeerManager\"]();\n    this.pingEmitter = new _network__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"](this.config.emitPingRate, this.config.emitPingPeriod, () => {\n      this.packet.sendPing();\n    });\n    this.positionEmitter = new _network__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"](this.config.emitMovementRate, this.config.emitMovementPeriod, () => {\n      this.move();\n    });\n  }\n\n  init(scene, renderer) {\n    // hook up to scene\n    this.colourGrid = scene.colourGrid;\n    this.player.init(renderer.renderer.domElement, scene.camera);\n\n    // actions\n    this.on = {};\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PEERS] = data => {\n      this.peerManager.handleData(data);\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PAINT] = data => {\n      this.colourGrid.drawPixelArray(data);\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].STATE_REQUEST] = data => {\n      this.packet.sendState(this.state.getPartJSON(data));\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].MESSAGE] = data => {\n      this.console.printMessage(data.from, data.message);\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].NOTICE] = data => {\n      this.console.printNotice(data.message);\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PEER_DISCONNECT] = data => {\n      this.peerManager.handlePeerDisconnect(data);\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].STATE] = data => {\n      this.state.set(data);\n      this.peerManager.setMyId(this.state.get('id'));\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PING] = data => {\n      this.packet.sendPong();\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PONG] = data => {\n      this.state.set({ ping: new Date() - new Date(data.timestamp) });\n    };\n    this.on[_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].MAP] = data => {\n      this.colourGrid.parseMap(data);\n    };\n  }\n\n  onConnect() {\n    // on new or reset connection\n    this.peerManager.purge();\n    this.packet.setSocket(this.socket.getSocket());\n\n    // pick a colour\n    this.colourPicker.setInitial();\n  }\n\n  handleMessage(e) {\n    // process messages from server\n    if (typeof e.data == 'string') {\n      const res = JSON.parse(e.data);\n\n      if (this.on[res.type]) {\n        this.on[res.type](res.data);\n      }\n    } else {\n      // binary data -- ArrayBuffer\n      // const uint8 = new Uint8Array(e.data);\n      // const str = String.fromCharCode.apply(null, uint8);\n    }\n  }\n\n  update(delta) {\n    this.player.update(delta);\n    this.peerManager.update(delta);\n    this.pingEmitter.update(delta);\n    this.positionEmitter.update(delta);\n  }\n\n  setName(name) {\n    this.state.set({ name: name });\n    this.player.name = name;\n    this.packet.sendSetName(name);\n  }\n\n  setColour(colour) {\n    this.state.set({ colour: colour });\n    this.player.colour = colour;\n    this.packet.sendSetColour(colour);\n  }\n\n  move() {\n    // send position\n    if (this.player.changed()) {\n      this.state.set({ p: this.player.position, v: this.player.motion });\n      this.packet.sendMove(this.state.get('p'), this.state.get('v'));\n    }\n\n    // send new grid cell colour\n    if (this.player.inNewGridCell()) {\n      const cell = this.player.getGridCell();\n      const cellColour = this.colourGrid.getPixel(cell.x, cell.y);\n      const colour = this.state.get('colour');\n\n      if (cellColour != null && colour != null && cellColour != colour) {\n        // mix colour with nearby peers\n        const mixed = Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"averageColours\"])(this.peerManager.getColoursInCell(cell.x, cell.y).concat(colour));\n        this.packet.sendPaint(cell.x, cell.y, mixed);\n\n        // local preemptive draw\n        this.colourGrid.drawPixelArray([{ x: cell.x, y: cell.y, colour: mixed }]);\n\n        this.state.set({ cellsColoured: this.state.get('cellsColoured') + 1 });\n      }\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/client.js?");

/***/ }),

/***/ "./client/src/client/index.js":
/*!************************************!*\
  !*** ./client/src/client/index.js ***!
  \************************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"./client/src/client/client.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return _client__WEBPACK_IMPORTED_MODULE_0__[\"Client\"]; });\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/index.js?");

/***/ }),

/***/ "./client/src/client/network/event_emitter.js":
/*!****************************************************!*\
  !*** ./client/src/client/network/event_emitter.js ***!
  \****************************************************/
/*! exports provided: EventEmitter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventEmitter\", function() { return EventEmitter; });\n/*\r\n * EventEmitter\r\n * -- emits event at regular intervals\r\n */\n\nclass EventEmitter {\n  constructor(rate, period, event) {\n    this.rate = rate;\n    this.period = period;\n    this.interval = period / rate;\n    this.age = this.interval;\n    this.event = event;\n  }\n\n  update(delta) {\n    this.age += delta;\n    if (this.age >= this.interval) {\n      this.age -= this.interval;\n      this.event();\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/network/event_emitter.js?");

/***/ }),

/***/ "./client/src/client/network/index.js":
/*!********************************************!*\
  !*** ./client/src/client/network/index.js ***!
  \********************************************/
/*! exports provided: PacketUtils, Socket, EventEmitter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _packet_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./packet_utils */ \"./client/src/client/network/packet_utils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PacketUtils\", function() { return _packet_utils__WEBPACK_IMPORTED_MODULE_0__[\"PacketUtils\"]; });\n\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket */ \"./client/src/client/network/socket.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Socket\", function() { return _socket__WEBPACK_IMPORTED_MODULE_1__[\"Socket\"]; });\n\n/* harmony import */ var _event_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event_emitter */ \"./client/src/client/network/event_emitter.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EventEmitter\", function() { return _event_emitter__WEBPACK_IMPORTED_MODULE_2__[\"EventEmitter\"]; });\n\n\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/network/index.js?");

/***/ }),

/***/ "./client/src/client/network/packet_utils.js":
/*!***************************************************!*\
  !*** ./client/src/client/network/packet_utils.js ***!
  \***************************************************/
/*! exports provided: PacketUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PacketUtils\", function() { return PacketUtils; });\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../shared */ \"./shared/index.js\");\n/*\r\n * PacketUtils\r\n * -- util funcs for the socket\r\n */\n\n\n\nclass PacketUtils {\n  constructor(socket) {\n    this.socket = socket;\n  }\n\n  send(type, data) {\n    if (this.connectionOK()) {\n      const msg = JSON.stringify({ type: type, data: data });\n      this.socket.send(msg);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  setSocket(socket) {\n    this.socket = socket;\n  }\n\n  sendState(state) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].STATE, state);\n  }\n\n  sendPing() {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PING, { timestamp: new Date().getTime() });\n  }\n\n  sendPong() {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PONG, {});\n  }\n\n  sendMessage(message) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].MESSAGE, message);\n  }\n\n  sendMove(p, v) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].MOVE, { p: p, v: v });\n  }\n\n  sendPaint(x, y, colour) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].PAINT, { x: x, y: y, colour: colour });\n  }\n\n  sendSetName(name) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].SET_NAME, { name: name });\n  }\n\n  sendSetColour(colour) {\n    return this.send(_shared__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"].SET_COLOUR, { colour: colour });\n  }\n\n  connectionOK() {\n    return this.socket.readyState === this.socket.OPEN;\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/network/packet_utils.js?");

/***/ }),

/***/ "./client/src/client/network/socket.js":
/*!*********************************************!*\
  !*** ./client/src/client/network/socket.js ***!
  \*********************************************/
/*! exports provided: Socket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Socket\", function() { return Socket; });\n/*\r\n * Socket\r\n * -- handle socket connection, io\r\n */\n\nclass Socket {\n  constructor(client) {\n    this.client = client;\n    this.reconnect = { count: 0, max: 3, timeout: 3000, lock: false };\n    this.connect();\n  }\n\n  connect(onConnect, onMessage, onDisconnect) {\n    this.socket = new WebSocket(this.client.url);\n    this.socket.binaryType = 'arraybuffer';\n    this.socket.onopen = () => {\n      this.reconnect.count = 0;\n      this.client.console.printNotice('Connected.');\n      this.client.onConnect();\n    };\n    this.socket.onmessage = e => {\n      this.client.handleMessage(e);\n    };\n    this.socket.onerror = e => {\n      console.warn(e);\n    };\n    this.socket.onclose = () => {\n      this.onDisconnect();\n    };\n  }\n\n  onDisconnect() {\n    // try to re-establish connection\n    if (!this.reconnect.lock) {\n      this.reconnect.lock = true;\n\n      if (++this.reconnect.count <= this.reconnect.max) {\n        this.client.console.printNotice(`No connection. Retrying ${this.reconnect.count}/${this.reconnect.max}`);\n\n        setTimeout(() => {\n          this.reconnect.lock = false;\n          this.connect();\n        }, this.reconnect.timeout);\n      } else {\n        this.client.console.printNotice('Connection failed.');\n      }\n    }\n  }\n\n  getSocket() {\n    return this.socket;\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/network/socket.js?");

/***/ }),

/***/ "./client/src/client/players/config.js":
/*!*********************************************!*\
  !*** ./client/src/client/players/config.js ***!
  \*********************************************/
/*! exports provided: Config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return Config; });\n/*\r\n * Player/ Peer shared attributes\r\n */\n\nconst Config = {\n  speed: 6,\n  acceleration: 0.25\n};\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/players/config.js?");

/***/ }),

/***/ "./client/src/client/players/index.js":
/*!********************************************!*\
  !*** ./client/src/client/players/index.js ***!
  \********************************************/
/*! exports provided: Player, PeerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./player */ \"./client/src/client/players/player.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Player\", function() { return _player__WEBPACK_IMPORTED_MODULE_0__[\"Player\"]; });\n\n/* harmony import */ var _peer_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./peer_manager */ \"./client/src/client/players/peer_manager.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PeerManager\", function() { return _peer_manager__WEBPACK_IMPORTED_MODULE_1__[\"PeerManager\"]; });\n\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/players/index.js?");

/***/ }),

/***/ "./client/src/client/players/peer.js":
/*!*******************************************!*\
  !*** ./client/src/client/players/peer.js ***!
  \*******************************************/
/*! exports provided: Peer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Peer\", function() { return Peer; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./client/src/client/players/config.js\");\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared */ \"./shared/index.js\");\n/*\r\n * Peer\r\n * -- container for peer users\r\n * -- smooths motion to compensate for latency\r\n */\n\n\n\n\nclass Peer {\n  constructor(id) {\n    this.id = id;\n    this.name = 'player';\n    this.colour = null;\n    this.accel = 0;\n    this.acceleration = _config__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].acceleration;\n    this.position = new THREE.Vector3();\n    this.motion = new THREE.Vector3();\n    this.cell = { x: 0, y: 0 };\n    this.target = { position: new THREE.Vector3() };\n    this.adjust = 0.075;\n    this.size = _shared__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].global.grid.size;\n    this.step = _shared__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].global.grid.step;\n  }\n\n  setInitialPosition(data) {\n    this.position.set(data.p.x, data.p.y, data.p.z);\n    this.motion.set(data.v.x, data.v.y, data.v.z);\n    this.target.position.set(data.p.x, data.p.y, data.p.z);\n  }\n\n  updatePosition(data) {\n    this.position.set(data.p.x, data.p.y, data.p.z);\n    this.motion.set(data.v.x, data.v.y, data.v.z);\n  }\n\n  update(delta) {\n    // accelerate & move\n    if (!(this.motion.x == 0 && this.motion.z == 0)) {\n      this.accel += (1 - this.accel) * this.acceleration;\n    } else {\n      this.accel = 0;\n    }\n\n    this.position.x += this.motion.x * delta * this.accel;\n    this.position.z += this.motion.z * delta * this.accel;\n    this.target.position.x += (this.position.x - this.target.position.x) * this.adjust;\n    this.target.position.z += (this.position.z - this.target.position.z) * this.adjust;\n\n    // set cell\n    this.cell.x = Math.floor(this.position.x / this.step + this.size / 2);\n    this.cell.y = Math.floor(this.position.z / this.step + this.size / 2);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/players/peer.js?");

/***/ }),

/***/ "./client/src/client/players/peer_manager.js":
/*!***************************************************!*\
  !*** ./client/src/client/players/peer_manager.js ***!
  \***************************************************/
/*! exports provided: PeerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PeerManager\", function() { return PeerManager; });\n/* harmony import */ var _peer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./peer */ \"./client/src/client/players/peer.js\");\n/*\r\n * PeerManager\r\n * -- manage positions/ attributes of peers\r\n * -- update peers from server instructions\r\n */\n\n\n\nclass PeerManager {\n  constructor() {\n    // container for peer positions, labels, colours\n    this.id = null;\n    this.peers = {};\n    this.peerCount = 0;\n    this.reset = true;\n  }\n\n  setMyId(id) {\n    this.id = id;\n  }\n\n  purge() {\n    // reset everything\n    this.id = null;\n    this.peers = {};\n    this.peerCount = 0;\n    this.reset = true;\n  }\n\n  add(id) {\n    if (id != this.id) {\n      this.peers[id] = new _peer__WEBPACK_IMPORTED_MODULE_0__[\"Peer\"](id);\n      this.peerCount += 1;\n    }\n  }\n\n  remove(id) {\n    if (this.peers[id]) {\n      this.peerCount -= 1;\n      delete this.peers[id];\n    }\n  }\n\n  update(delta) {\n    const keys = Object.keys(this.peers);\n\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      this.peers[keys[i]].update(delta);\n    }\n  }\n\n  handlePeerDisconnect(data) {\n    this.remove(data.id);\n  }\n\n  handleData(data) {\n    // handle server state packet\n    for (var i = 0, len = data.length; i < len; ++i) {\n      const id = data[i].id;\n\n      if (id != this.id) {\n        if (!this.peers[id]) {\n          this.add(id);\n        }\n\n        // update position\n        if (this.reset) {\n          this.reset = false;\n          this.peers[id].setInitialPosition(data[i]);\n        } else {\n          this.peers[id].updatePosition(data[i]);\n        }\n\n        // set name, colour\n        if (this.peers[id].name != data[i].name) {\n          this.peers[id].name = data[i].name;\n        }\n        if (this.peers[id].colour != data[i].colour) {\n          this.peers[id].colour = data[i].colour;\n        }\n      }\n    }\n  }\n\n  getCount() {\n    return this.peerCount;\n  }\n\n  getKeys() {\n    return Object.keys(this.peers);\n  }\n\n  getPeer(key) {\n    return this.peers[key];\n  }\n\n  getColoursInCell(x, y) {\n    const keys = Object.keys(this.peers);\n    const arr = [];\n\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      if (keys[i] != this.id) {\n        const peer = this.peers[keys[i]];\n        if (peer.cell.x == x && peer.cell.y == y && peer.colour != null) {\n          arr.push(peer.colour);\n        }\n      }\n    }\n\n    return arr;\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/players/peer_manager.js?");

/***/ }),

/***/ "./client/src/client/players/player.js":
/*!*********************************************!*\
  !*** ./client/src/client/players/player.js ***!
  \*********************************************/
/*! exports provided: Player */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Player\", function() { return Player; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./client/src/client/players/config.js\");\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared */ \"./shared/index.js\");\n/* harmony import */ var _utils_maths__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/maths */ \"./client/src/utils/maths.js\");\n/*\r\n * Player\r\n * -- handle mouse & keyboard input\r\n * -- move player & interact with grid\r\n */\n\n\n\n\n\nclass Player {\n  constructor() {\n    // player input\n    this.size = _shared__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].global.grid.size;\n    this.step = _shared__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].global.grid.step;\n    this.bound = this.size * this.step;\n    this.halfBound = this.bound / 2;\n\n    // spawn position\n    const range = _shared__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].global.grid.playerSpawnRange;\n    this.position = new THREE.Vector3();\n    this.position.x = Math.floor(Math.random() * range - range / 2) * this.step - this.step / 2;\n    this.position.z = Math.floor(Math.random() * range - range / 2) * this.step - this.step / 2;\n\n    // game props\n    this.motion = new THREE.Vector3();\n    this.previous = {};\n    this.name = '';\n    this.disabled = false;\n    this.accel = 0;\n    this.colour = 0x00ff00;\n    this.acceleration = _config__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].acceleration;\n    this.speed = _config__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].speed;\n    this.cell = { x: 0, y: 0 };\n    this.diagonalReduction = 1 / Math.sqrt(2);\n    this.autoMove = false;\n    this.waypoints = [];\n\n    // handle mkb input\n    this.keys = {};\n    document.onkeydown = e => {\n      if (document.body == document.activeElement) {\n        this.keys[e.code] = true;\n        this.autoMove = false;\n      }\n    };\n    document.onkeyup = e => {\n      this.keys[e.code] = false;\n      this.autoMove = false;\n    };\n  }\n\n  init(canvas, camera) {\n    // hook mouse to canvas\n    this.canvas = canvas;\n    this.camera = camera;\n    this.raycaster = new THREE.Raycaster();\n    this.plane = new THREE.Plane(new THREE.Vector3(0, 1, 0));\n    this.cursor = {\n      screen: new THREE.Vector2(),\n      position: new THREE.Vector3(),\n      cell: new THREE.Vector3()\n    };\n\n    // mouse events\n    this.registerWaypoint = (x, z) => {\n      const last = this.waypoints.length - 1;\n      x += this.step / 2;\n      z += this.step / 2;\n\n      if (!(x == this.position.x && z == this.position.z) && (last == -1 || !(this.waypoints[last].x == x && this.waypoints[last].z == z))) {\n        this.waypoints.push({ x: x, z: z });\n\n        // limit to 10 waypoints\n        if (last > 8) {\n          this.waypoints.splice(0, 1);\n        }\n      }\n    };\n    this.canvas.onmousemove = e => {\n      this.cursor.screen.x = e.clientX / this.canvas.width * 2 - 1;\n      this.cursor.screen.y = -(e.clientY / this.canvas.height * 2 - 1);\n      this.raycaster.setFromCamera(this.cursor.screen, this.camera);\n      this.raycaster.ray.intersectPlane(this.plane, this.cursor.position);\n      this.cursor.cell.x = Math.floor(this.cursor.position.x / this.step) * this.step;\n      this.cursor.cell.z = Math.floor(this.cursor.position.z / this.step) * this.step;\n\n      // case click & drag\n      if (e.which) {\n        this.autoMove = true;\n        this.registerWaypoint(this.cursor.cell.x, this.cursor.cell.z);\n      }\n    };\n    this.canvas.onmousedown = () => {\n      this.autoMove = true;\n      this.waypoints = [];\n      this.registerWaypoint(this.cursor.cell.x, this.cursor.cell.z);\n    };\n  }\n\n  getGridCell() {\n    // get current containing cell\n    this.cell.x = Math.floor(this.position.x / this.step + this.size / 2);\n    this.cell.y = Math.floor(this.position.z / this.step + this.size / 2);\n    return { x: this.cell.x, y: this.cell.y };\n  }\n\n  inNewGridCell() {\n    // check if moved to new cell\n    if (this.previous.cell) {\n      const cell = this.getGridCell();\n      if (!(cell.x == this.previous.cell.x && cell.y == this.previous.cell.y)) {\n        this.previous.cell = cell;\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      this.previous.cell = this.getGridCell();\n      return true;\n    }\n  }\n\n  changed() {\n    // check if moved\n    if (this.previous.position) {\n      if (!this.motion.equals(this.previous.motion) || this.motion.x == 0 && this.motion.y == 0 && this.motion.z == 0 && !this.position.equals(this.previous.position)) {\n        this.previous.motion.copy(this.motion);\n        this.previous.position.copy(this.position);\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      this.previous.position = new THREE.Vector3();\n      this.previous.motion = new THREE.Vector3();\n      return true;\n    }\n  }\n\n  move(delta) {\n    if (this.autoMove && this.waypoints.length) {\n      // move on click\n      const wp = this.waypoints[0];\n      const d = new THREE.Vector3(wp.x - this.position.x, 0, wp.z - this.position.z);\n      const dist = d.length();\n      const vec = d.clone();\n      vec.normalize();\n      vec.multiplyScalar(this.speed);\n\n      // move to next auto waypoint\n      if (dist < vec.length() * delta) {\n        this.waypoints.splice(0, 1);\n\n        if (this.waypoints.length == 0) {\n          this.autoMove = false;\n          this.position.x = wp.x;\n          this.position.z = wp.z;\n          this.motion.x = 0;\n          this.motion.z = 0;\n        } else {\n          this.motion = vec;\n        }\n      } else {\n        this.motion = vec;\n      }\n    } else {\n      // move on keyboard\n      this.motion.x = -(this.keys['KeyA'] || this.keys['ArrowLeft'] ? this.speed : 0) + (this.keys['KeyD'] || this.keys['ArrowRight'] ? this.speed : 0);\n      this.motion.z = -(this.keys['KeyW'] || this.keys['ArrowUp'] ? this.speed : 0) + (this.keys['KeyS'] || this.keys['ArrowDown'] ? this.speed : 0);\n\n      // reduce speed on diagonals\n      if (this.motion.x != 0 && this.motion.z != 0) {\n        this.motion.x *= this.diagonalReduction;\n        this.motion.z *= this.diagonalReduction;\n      }\n    }\n\n    // accelerate, move, wrap\n    if (!(this.motion.x == 0 && this.motion.z == 0)) {\n      this.accel += (1 - this.accel) * this.acceleration;\n    } else {\n      this.accel = 0;\n    }\n\n    this.position.x += this.motion.x * delta * this.accel;\n    this.position.z += this.motion.z * delta * this.accel;\n    this.position.x = this.position.x > this.halfBound ? this.halfBound : this.position.x < -this.halfBound ? -this.halfBound : this.position.x;\n    this.position.z = this.position.z > this.halfBound ? this.halfBound : this.position.z < -this.halfBound ? -this.halfBound : this.position.z;\n  }\n\n  enableInput() {\n    this.disabled = false;\n  }\n\n  disableInput() {\n    this.disabled = true;\n    for (var prop in this.keys) {\n      if (this.keys.hasOwnProperty(prop)) {\n        this.keys[prop] = false;\n      }\n    }\n  }\n\n  update(delta) {\n    this.move(delta);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/players/player.js?");

/***/ }),

/***/ "./client/src/client/ui/colour_picker.js":
/*!***********************************************!*\
  !*** ./client/src/client/ui/colour_picker.js ***!
  \***********************************************/
/*! exports provided: ColourPicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColourPicker\", function() { return ColourPicker; });\n/* harmony import */ var _div__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./div */ \"./client/src/client/ui/div.js\");\n/* harmony import */ var _utils_colour__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/colour */ \"./client/src/utils/colour.js\");\n/*\r\n * ColourPicker\r\n * -- colour picker UI element\r\n */\n\n\n\n\nclass ColourPicker {\n  constructor(client) {\n    this.client = client;\n    this.target = document.querySelector('#colour-target');\n    document.querySelector('#colour-reroll').onclick = () => {\n      this.makeNewColours();\n    };\n\n    // make some colours\n    this.makeNewColours();\n  }\n\n  makeNewColours() {\n    // remove elements\n    document.querySelectorAll('.colour').forEach(e => e.parentNode.removeChild(e));\n\n    // make new\n    this.colours = [];\n    for (var i = 0; i < 5; i++) {\n      const c = Object(_utils_colour__WEBPACK_IMPORTED_MODULE_1__[\"getRandomColour\"])();\n      const elem = Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({ classList: 'colour' });\n      elem.style.background = Object(_utils_colour__WEBPACK_IMPORTED_MODULE_1__[\"toColourString\"])(c);\n      elem.onclick = e => {\n        this.onClick(e.currentTarget);\n      };\n      this.target.appendChild(elem);\n      this.colours.push(c);\n    }\n\n    // reference\n    this.elements = document.querySelectorAll('.colour');\n  }\n\n  onClick(e) {\n    document.querySelectorAll('.colour.active').forEach(el => {\n      el.classList.remove('active');\n    });\n    e.classList.add('active');\n    for (var i = 0, len = this.elements.length; i < len; ++i) {\n      if (this.elements[i] == e) {\n        this.client.setColour(this.colours[i]);\n        break;\n      }\n    }\n  }\n\n  setInitial() {\n    this.client.setColour(this.colours[0]);\n    document.querySelector('.colour').classList.add('active');\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/colour_picker.js?");

/***/ }),

/***/ "./client/src/client/ui/console.js":
/*!*****************************************!*\
  !*** ./client/src/client/ui/console.js ***!
  \*****************************************/
/*! exports provided: Console */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Console\", function() { return Console; });\n/* harmony import */ var _div__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./div */ \"./client/src/client/ui/div.js\");\n/*\r\n * Console\r\n * -- console UI element (chat & server messages)\r\n */\n\n\n\nclass Console {\n  constructor(client) {\n    // handle the chat, server notices\n    this.client = client;\n    this.limit = 12;\n    this.fadeFrom = 9;\n    this.active = false;\n\n    // doc\n    this.el = {};\n    this.el.list = document.querySelector('.chat-list__inner');\n    this.el.form = document.querySelector('#chat-form');\n    this.el.input = document.querySelector('.chat-input__input');\n\n    // events\n    this.el.form.onsubmit = e => {\n      this.submitMessage(e);\n    };\n  }\n\n  submitMessage(e) {\n    // send input to server\n    e.preventDefault();\n    document.activeElement.blur();\n\n    if (this.el.input.value.length) {\n      this.client.packet.sendMessage(this.el.input.value);\n      this.el.input.value = '';\n    }\n  }\n\n  printMessage(from, message) {\n    this.el.list.appendChild(Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({\n      className: 'chat-list__item',\n      innerHTML: `<span class='bold'>${from}</span> ${message}`\n    }));\n    this.limitChat();\n  }\n\n  printNotice(message) {\n    this.el.list.appendChild(Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({\n      className: 'chat-list__item',\n      innerHTML: `<span class='error'>${message}</span>`\n    }));\n    this.limitChat();\n  }\n\n  limitChat() {\n    // remove excess item\n    if (this.el.list.children.length >= this.limit) {\n      this.el.list.removeChild(this.el.list.children[0]);\n    }\n\n    // fade out upper items\n    var j = 0;\n    var range = this.limit + 1 - this.fadeFrom;\n    for (var i = this.el.list.children.length, end = -1; i > end; --i) {\n      if (++j > this.fadeFrom) {\n        this.el.list.children[i].style.opacity = 1 - (j - this.fadeFrom) / range;\n      }\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/console.js?");

/***/ }),

/***/ "./client/src/client/ui/div.js":
/*!*************************************!*\
  !*** ./client/src/client/ui/div.js ***!
  \*************************************/
/*! exports provided: div */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"div\", function() { return div; });\n/*\r\n * Div\r\n * -- create a DOM div with props\r\n */\n\nfunction div(props) {\n  const d = document.createElement('div');\n\n  for (var prop in props) {\n    if (props.hasOwnProperty(prop)) {\n      d[prop] = props[prop];\n    }\n  }\n\n  return d;\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/div.js?");

/***/ }),

/***/ "./client/src/client/ui/hud.js":
/*!*************************************!*\
  !*** ./client/src/client/ui/hud.js ***!
  \*************************************/
/*! exports provided: HUD */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HUD\", function() { return HUD; });\n/*\r\n * HUD\r\n * -- ?\r\n */\n\nclass HUD {\n  constructor() {\n    this.hud = document.querySelector('#hud');\n    this.help = document.querySelector('#help-button');\n    this.overlay = {\n      help: document.querySelector('#help-overlay')\n    };\n\n    // events\n    this.help.onclick = () => {\n      this.help.classList.toggle('active');\n      this.overlay.help.classList.toggle('active');\n    };\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/hud.js?");

/***/ }),

/***/ "./client/src/client/ui/index.js":
/*!***************************************!*\
  !*** ./client/src/client/ui/index.js ***!
  \***************************************/
/*! exports provided: Console, HUD, NamePicker, ColourPicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./console */ \"./client/src/client/ui/console.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Console\", function() { return _console__WEBPACK_IMPORTED_MODULE_0__[\"Console\"]; });\n\n/* harmony import */ var _hud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hud */ \"./client/src/client/ui/hud.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"HUD\", function() { return _hud__WEBPACK_IMPORTED_MODULE_1__[\"HUD\"]; });\n\n/* harmony import */ var _name_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./name_picker */ \"./client/src/client/ui/name_picker.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NamePicker\", function() { return _name_picker__WEBPACK_IMPORTED_MODULE_2__[\"NamePicker\"]; });\n\n/* harmony import */ var _colour_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./colour_picker */ \"./client/src/client/ui/colour_picker.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColourPicker\", function() { return _colour_picker__WEBPACK_IMPORTED_MODULE_3__[\"ColourPicker\"]; });\n\n\n\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/index.js?");

/***/ }),

/***/ "./client/src/client/ui/name_picker.js":
/*!*********************************************!*\
  !*** ./client/src/client/ui/name_picker.js ***!
  \*********************************************/
/*! exports provided: NamePicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NamePicker\", function() { return NamePicker; });\n/* harmony import */ var _div__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./div */ \"./client/src/client/ui/div.js\");\n/*\r\n * NamePicker\r\n * -- name picker UI element (window)\r\n */\n\n\n\nclass NamePicker {\n  constructor(client) {\n    // hook name picker to client\n    this.client = client;\n    this.createWindow();\n    this.input = this.form.querySelector('input');\n    document.body.appendChild(this.form);\n  }\n\n  closeWindow() {\n    if (document.body.contains(this.form)) {\n      document.body.removeChild(this.form);\n    }\n  }\n\n  error(msg) {\n    this.form.querySelector('.form-window__notice').innerHTML = msg;\n  }\n\n  force(name) {\n    this.client.setName(name);\n    this.closeWindow();\n  }\n\n  onForm(e) {\n    e.preventDefault();\n\n    if (this.input.value.length) {\n      this.client.setName(this.input.value);\n      this.closeWindow();\n    } else {\n      this.error('<br />Input is empty.');\n    }\n  }\n\n  createWindow() {\n    this.form = Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({ className: 'window form-window' });\n\n    // elements\n    const title = 'Name your pencil';\n    const upper = Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({ className: 'form-window__title', innerHTML: title });\n    const form = document.createElement('form');\n    const input = document.createElement('input');\n    const send = document.createElement('input');\n    const notice = Object(_div__WEBPACK_IMPORTED_MODULE_0__[\"div\"])({ className: 'form-window__notice' });\n\n    // settings\n    form.onsubmit = e => {\n      this.onForm(e);\n    };\n    input.setAttribute('type', 'text');\n    input.setAttribute('placeholder', 'input');\n    input.setAttribute('maxlength', 25);\n    send.setAttribute('type', 'submit');\n    send.setAttribute('value', 'send');\n\n    // build\n    form.appendChild(input);\n    form.appendChild(send);\n    this.form.appendChild(upper);\n    this.form.appendChild(form);\n    this.form.appendChild(notice);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/client/ui/name_picker.js?");

/***/ }),

/***/ "./client/src/main.js":
/*!****************************!*\
  !*** ./client/src/main.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"./client/src/client/index.js\");\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render */ \"./client/src/render/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./client/src/utils/index.js\");\n/*\r\n * App\r\n * -- client entry point\r\n * -- init sockets, game logic, renderers\r\n */\n\n\n\n\n\nclass App {\n  constructor() {\n    // start modules\n    this.url = `ws://${window.location.host}:1337`;\n    this.client = new _client__WEBPACK_IMPORTED_MODULE_0__[\"Client\"](this.url);\n    this.scene = new _render__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"](this.client);\n    this.renderer = new _render__WEBPACK_IMPORTED_MODULE_1__[\"Renderer\"](this.scene, this.client);\n    this.timer = new _utils__WEBPACK_IMPORTED_MODULE_2__[\"Timer\"]();\n    this.client.init(this.scene, this.renderer);\n\n    // resize on window change\n    window.onresize = () => {\n      this.scene.resize();\n      this.renderer.resize();\n    };\n\n    // go!\n    this.loop();\n  }\n\n  loop() {\n    requestAnimationFrame(() => {\n      this.loop();\n    });\n\n    // update game logic\n    var delta = this.timer.update();\n    this.client.update(delta);\n    this.scene.update(delta);\n    this.renderer.render(delta);\n  }\n}\n\nwindow.onload = () => {\n  var app = new App();\n};\n\n//# sourceURL=webpack://mmommo/./client/src/main.js?");

/***/ }),

/***/ "./client/src/render/colour_grid.js":
/*!******************************************!*\
  !*** ./client/src/render/colour_grid.js ***!
  \******************************************/
/*! exports provided: ColourGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColourGrid\", function() { return ColourGrid; });\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared */ \"./shared/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./client/src/utils/index.js\");\n/*\r\n * ColourGrid\r\n * -- colour grid handler (2D & 3D)\r\n */\n\n\n\n\nclass ColourGrid {\n  constructor(scene, client) {\n    this.scene = scene;\n    this.client = client;\n    this.size = _shared__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].global.grid.size;\n    this.step = _shared__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].global.grid.step;\n    this.width = this.height = this.size * this.step;\n    this.map = null;\n    this.mapped = false;\n    this.cache = [];\n\n    // canvas buffer\n    this.swapBuffer = false;\n    this.buffer = document.createElement('canvas');\n    this.bufferCtx = this.buffer.getContext('2d');\n    this.buffer.width = this.size;\n    this.buffer.height = this.size;\n    this.imageData = this.bufferCtx.getImageData(0, 0, this.size, this.size);\n    this.target = document.querySelector('#map-target');\n\n    // screen displays\n    this.frameAge = 0;\n    this.frameInterval = 1 / 20;\n    this.display = document.createElement('canvas');\n    this.displayCtx = this.display.getContext('2d');\n    const rect = this.target.getBoundingClientRect();\n    this.display.width = Math.floor(rect.width);\n    this.display.height = Math.floor(rect.height);\n    this.displayCtx.mozImageSmoothingEnabled = false;\n    this.displayCtx.webkitImageSmoothingEnabled = false;\n    this.displayCtx.msImageSmoothingEnabled = false;\n    this.displayCtx.imageSmoothingEnabled = false;\n    this.target.appendChild(this.display);\n    this.clear();\n\n    // world objects\n    this.plane = new THREE.Mesh(new THREE.PlaneBufferGeometry(this.width, this.height), new THREE.MeshBasicMaterial({}));\n    this.plane.material.map = new THREE.Texture(this.buffer);\n    this.plane.material.map.magFilter = THREE.NearestFilter;\n    //this.plane.material.map.generateMipmaps = false;\n    this.plane.material.map.needsUpdate = true;\n    this.plane.rotation.x = -Math.PI / 2;\n    this.plane.position.y = 0;\n    this.scene.add(this.plane);\n  }\n\n  clear() {\n    this.bufferCtx.fillStyle = '#fff';\n    this.bufferCtx.fillRect(0, 0, this.size, this.size);\n    this.bufferCtx.fillStyle = '#aaa';\n    for (var x = 0, xlim = this.size; x < xlim; ++x) {\n      for (var y = 0, ylim = this.size; y < ylim; ++y) {\n        if ((x + y) % 2 == 0) {\n          this.bufferCtx.fillRect(x, y, 1, 1);\n        }\n      }\n    }\n    this.swapBuffer = true;\n  }\n\n  drawPixelArray(data) {\n    for (var i = 0, len = data.length; i < len; ++i) {\n      this.setPixel(data[i].x, data[i].y, data[i].colour);\n    }\n    this.swapBuffer = true;\n  }\n\n  setPixel(x, y, colour) {\n    // draw pixel to canvas\n    if (this.inBounds(x, y)) {\n      this.bufferCtx.fillStyle = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"toColourString\"])(colour);\n      this.bufferCtx.fillRect(x, y, 1, 1);\n\n      // update image data\n      const index = this.getIndex(x, y);\n\n      if (index + 3 < this.imageData.data.length) {\n        this.imageData.data[index] = colour >> 16 & 0xff;\n        this.imageData.data[index + 1] = colour >> 8 & 0xff;\n        this.imageData.data[index + 2] = colour & 0xff;\n      }\n\n      // save pixel if map not received\n      if (!this.mapped) {\n        this.cache.push({ x: x, y: y, colour: colour });\n      }\n    }\n  }\n\n  getIndex(x, y) {\n    return y * this.size + x << 2;\n  }\n\n  getPixel(x, y) {\n    // get pixel value from image data\n    const index = this.getIndex(x, y);\n\n    if (index > -1 && index + 3 < this.imageData.data.length) {\n      const r = this.imageData.data[index];\n      const g = this.imageData.data[index + 1];\n      const b = this.imageData.data[index + 2];\n      return (r << 16) + (g << 8) + b;\n    } else {\n      return null;\n    }\n  }\n\n  parseMap(src) {\n    src = 'data:image/png;base64,' + btoa(src);\n    this.clear();\n\n    // draw image, reset image data & history\n    this.map = new Image();\n    this.map.onload = () => {\n      // write image, draw cached, reset, get image data, flag for redraw\n      console.log('Map size ~', src.length);\n      this.bufferCtx.drawImage(this.map, 0, 0);\n      this.history = {};\n      this.mapped = true;\n\n      for (var i = this.cache.length - 1; i > -1; --i) {\n        this.setPixel(this.cache[i].x, this.cache[i].y, this.cache[i].colour);\n        this.cache.splice(i, 1);\n      }\n\n      this.imageData = this.bufferCtx.getImageData(0, 0, this.size, this.size);\n      this.swapBuffer = true;\n    };\n    this.map.src = src;\n  }\n\n  inBounds(x, y) {\n    return x > -1 && y > -1 && x < this.size && y < this.size;\n  }\n\n  renderDisplay(delta) {\n    // render buffer canvas to 2d screen display\n    this.frameAge += delta;\n\n    if (this.frameAge >= this.frameInterval) {\n      this.frameAge = 0;\n      this.displayCtx.fillStyle = '#000';\n      this.displayCtx.strokeStyle = '#22f';\n      var scale = 7;\n      var cx = this.display.width / 2;\n      var cy = this.display.height / 2;\n      //var x = cx - this.client.player.cell.x * scale;\n      //var y = cy - this.client.player.cell.y * scale;\n      var x = cx - (this.client.player.position.x + this.client.player.halfBound) / this.step * scale;\n      var y = cy - (this.client.player.position.z + this.client.player.halfBound) / this.step * scale;\n      this.displayCtx.fillRect(0, 0, this.display.width, this.display.height);\n      this.displayCtx.drawImage(this.buffer, x, y, this.buffer.width * scale, this.buffer.height * scale);\n      this.displayCtx.lineWidth = 2;\n      cx += scale / 2;\n      cy += scale / 2;\n      this.displayCtx.strokeRect(cx - scale, cy - scale, scale, scale);\n    }\n  }\n\n  update(delta) {\n    if (this.swapBuffer) {\n      this.plane.material.map.needsUpdate = true;\n      this.swapBuffer = false;\n    }\n    this.renderDisplay(delta);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/colour_grid.js?");

/***/ }),

/***/ "./client/src/render/index.js":
/*!************************************!*\
  !*** ./client/src/render/index.js ***!
  \************************************/
/*! exports provided: Renderer, Scene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./client/src/render/renderer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Renderer\", function() { return _renderer__WEBPACK_IMPORTED_MODULE_0__[\"Renderer\"]; });\n\n/* harmony import */ var _scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scene */ \"./client/src/render/scene.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Scene\", function() { return _scene__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]; });\n\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/index.js?");

/***/ }),

/***/ "./client/src/render/player_model.js":
/*!*******************************************!*\
  !*** ./client/src/render/player_model.js ***!
  \*******************************************/
/*! exports provided: PlayerModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerModel\", function() { return PlayerModel; });\n/* harmony import */ var _utils_maths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/maths */ \"./client/src/utils/maths.js\");\n/*\r\n * PlayerModel\r\n * -- player model & animation (shared by player & other users)\r\n */\n\n\n\nclass PlayerModel {\n  constructor(scene) {\n    this.scene = scene;\n    this.isSet = false;\n    this.label = '';\n    this.colour = 0;\n    this.adjust = 0.2;\n    this.isSet = false;\n    this.maxTilt = Math.PI / 8;\n    this.buildModel();\n  }\n\n  buildModel() {\n    this.group = new THREE.Group();\n    this.material = {\n      shade: new THREE.MeshPhongMaterial({}),\n      wood: new THREE.MeshPhongMaterial({ color: 0xffaa66 })\n    };\n\n    // pencil geometry\n    const radius = 0.5 + Math.random() * 0.1;\n    const tip = 1.5;\n    const height = 8 + Math.random() * 0.25;\n    const segments = 6;\n    this.tube = new THREE.Mesh(new THREE.CylinderBufferGeometry(radius, radius, height - tip, segments), this.material.shade);\n    this.shaft = new THREE.Mesh(new THREE.CylinderBufferGeometry(radius, radius / 2, tip / 2, segments, 1, true), this.material.wood);\n    this.tip = new THREE.Mesh(new THREE.CylinderBufferGeometry(radius / 2, 0, tip / 2, segments, 1, true), this.material.shade);\n    this.tube.position.y = (height - tip) / 2 + tip;\n    this.shaft.position.y = tip / 2 + tip / 4;\n    this.tip.position.y = tip / 4;\n\n    // wrap in group\n    this.group.add(this.tube, this.shaft, this.tip);\n    this.scene.add(this.group);\n  }\n\n  update(target) {\n    // label\n    this.label = `${target.name}`;\n\n    // move\n    if (!this.isSet) {\n      this.isSet = true;\n      this.group.position.set(target.position.x, target.position.y, target.position.z);\n    } else {\n      this.group.position.x += (target.position.x - this.group.position.x) * this.adjust;\n      this.group.position.z += (target.position.z - this.group.position.z) * this.adjust;\n    }\n\n    // tilt pencil\n    if (target.accel == 0) {\n      this.group.rotation.z += -this.group.rotation.z * this.adjust;\n    } else {\n      this.group.rotation.z += (this.maxTilt - this.group.rotation.z) * this.adjust;\n      this.group.rotation.y += Object(_utils_maths__WEBPACK_IMPORTED_MODULE_0__[\"minAngleTo\"])(this.group.rotation.y, Math.atan2(-target.motion.z, target.motion.x)) * this.adjust;\n    }\n\n    // change material\n    if (target.colour != null && this.colour != target.colour) {\n      this.colour = target.colour;\n      this.material.shade.color.set(target.colour);\n    }\n  }\n\n  remove() {\n    this.scene.remove(this.group);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/player_model.js?");

/***/ }),

/***/ "./client/src/render/renderer.js":
/*!***************************************!*\
  !*** ./client/src/render/renderer.js ***!
  \***************************************/
/*! exports provided: Renderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Renderer\", function() { return Renderer; });\n/* harmony import */ var _renderer_2d__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer_2d */ \"./client/src/render/renderer_2d.js\");\n/* harmony import */ var _lib_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/glsl */ \"./client/lib/glsl/index.js\");\n/*\r\n * Renderer\r\n * -- 3D rendering & post-processing\r\n */\n\n\n\n\nclass Renderer {\n  constructor(scene, client) {\n    this.scene = scene.scene;\n    this.camera = scene.camera;\n    this.hudSize = document.querySelector('.hud').getBoundingClientRect().width;\n\n    // webgl renderer\n    this.width = window.innerWidth - this.hudSize;\n    this.height = window.innerHeight;\n    this.size = new THREE.Vector2(this.width, this.height);\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setSize(this.width, this.height);\n    this.renderer.setClearColor(0xaaaaaa, 1);\n    this.postProcessing();\n\n    // add to doc\n    this.renderer.domElement.id = 'canvas';\n    document.body.appendChild(this.renderer.domElement);\n\n    // 2d renderer (overlays)\n    this.renderer2d = new _renderer_2d__WEBPACK_IMPORTED_MODULE_0__[\"Renderer2D\"](scene, this.camera, client);\n  }\n\n  resize() {\n    // resize screen and pp render passes\n    this.width = window.innerWidth - this.hudSize;\n    this.height = window.innerHeight;\n    this.size.x = this.width;\n    this.size.y = this.height;\n    this.FXAAPass.uniforms['resolution'].value.set(1 / this.width, 1 / this.height);\n    this.bloomPass.setSize(this.width, this.height);\n    this.renderer.setSize(this.width, this.height);\n    this.composer.setSize(this.width, this.height);\n\n    // resize overlay\n    this.renderer2d.resize();\n  }\n\n  postProcessing() {\n    // post processing passes\n    const strength = 0.28;\n    const radius = 0.16;\n    const threshold = 0.97;\n    this.renderPass = new THREE.RenderPass(this.scene, this.camera);\n    this.FXAAPass = new THREE.ShaderPass(THREE.FXAAShader);\n    this.FXAAPass.uniforms['resolution'].value.set(1 / this.width, 1 / this.height);\n    this.bloomPass = new THREE.UnrealBloomPass(this.size, strength, radius, threshold);\n    //this.posterPass = new THREE.PosterPass(this.size);\n    //this.noisePass = new THREE.NoisePass();\n    this.composer = new THREE.EffectComposer(this.renderer);\n    this.composer.setSize(this.width, this.height);\n    this.composer.addPass(this.renderPass);\n    this.composer.addPass(this.FXAAPass);\n    //this.composer.addPass(this.posterPass);\n    this.composer.addPass(this.bloomPass);\n    //this.composer.addPass(this.noisePass);\n    this.bloomPass.renderToScreen = true;\n    this.renderer.gammaInput = true;\n    this.renderer.gammaOutput = true;\n  }\n\n  render(delta) {\n    this.composer.render(delta);\n\n    // overlay\n    this.renderer2d.render(delta);\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/renderer.js?");

/***/ }),

/***/ "./client/src/render/renderer_2d.js":
/*!******************************************!*\
  !*** ./client/src/render/renderer_2d.js ***!
  \******************************************/
/*! exports provided: Renderer2D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Renderer2D\", function() { return Renderer2D; });\n/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared */ \"./shared/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./client/src/utils/index.js\");\n/*\r\n * Renderer2D\r\n * -- 2D renderer for screen-space overlays\r\n */\n\n\n\n\nclass Renderer2D {\n  constructor(scene, camera, client) {\n    this.hudSize = document.querySelector('.hud').getBoundingClientRect().width;\n    this.cvs = document.createElement('canvas');\n    this.ctx = this.cvs.getContext('2d');\n    this.resize();\n    this.cvs.classList.add('overlay-canvas');\n    this.cvs.style.pointerEvents = 'none';\n    document.body.appendChild(this.cvs);\n    this.offsetY = -60;\n    this.offsetPerLetter = 1;\n    this.textColour = '#002';\n    this.textOutlineColour = '#aaa';\n    this.step = _shared__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].global.grid.step;\n\n    // targets\n    this.scene = scene;\n    this.camera = camera;\n    this.client = client;\n    this.player = scene.player;\n  }\n\n  resize() {\n    this.width = window.innerWidth - this.hudSize;\n    this.height = window.innerHeight;\n    this.centre = { x: this.width / 2, y: this.height / 2 };\n    this.cvs.width = this.width;\n    this.cvs.height = this.height;\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.cvs.width, this.cvs.height);\n  }\n\n  toScreenPosition(vector) {\n    // convert world position to screen\n    const vec = vector.clone();\n    vec.project(this.camera);\n    return {\n      x: this.centre.x * vec.x + this.centre.x,\n      y: -this.centre.y * vec.y + this.centre.y\n    };\n  }\n\n  renderWorldLabel(position, label) {\n    const p = this.toScreenPosition(position);\n    const x = Math.floor(p.x - name.length * this.offsetPerLetter);\n    const y = Math.floor(p.y + this.offsetY);\n    this.ctx.fillStyle = this.textColour;\n    this.ctx.fillText(label, x + 0.5, y + 0.5);\n    this.ctx.fillStyle = this.textOutlineColour;\n    this.ctx.fillText(label, x, y);\n  }\n\n  print() {\n    for (var i = 0; i < arguments.length; ++i) {\n      const x = 20;\n      const y = 30 + i * 20;\n      this.ctx.fillStyle = this.textColour;\n      this.ctx.fillText(arguments[i], x + 0.5, y + 0.5);\n      this.ctx.fillStyle = this.textOutlineColour;\n      this.ctx.fillText(arguments[i], x, y);\n    }\n  }\n\n  render(delta) {\n    this.clear();\n\n    // draw selected cell\n    this.ctx.lineWidth = 2;\n    this.ctx.strokeStyle = this.textOutlineColour;\n    const cell = this.client.player.cursor.cell.clone();\n    const p1 = this.toScreenPosition(cell);\n    const p2 = this.toScreenPosition(cell.setX(cell.x + this.step));\n    const p3 = this.toScreenPosition(cell.setZ(cell.z + this.step));\n    const p4 = this.toScreenPosition(cell.setX(cell.x - this.step));\n    this.ctx.beginPath();\n    this.ctx.moveTo(p1.x, p1.y);\n    this.ctx.lineTo(p2.x, p2.y);\n    this.ctx.lineTo(p3.x, p3.y);\n    this.ctx.lineTo(p4.x, p4.y);\n    this.ctx.closePath();\n    this.ctx.stroke();\n\n    // print fun stuff\n    this.ctx.font = '12px Karla';\n    const n = this.client.state.get('cellsColoured');\n    const status = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getStatus\"])(n);\n    this.print(`ping ${this.client.state.get('ping')}`, `pencils in server ${this.client.peerManager.peerCount + 1}`, `cell ${this.client.player.cell.x}, ${this.client.player.cell.y}`, `cells filled ${n}`, `status: ${status}`);\n\n    // render player & peer namesa\n    this.ctx.font = '20px Karla';\n    this.renderWorldLabel(this.scene.playerModel.group.position, this.scene.playerModel.label);\n\n    for (var i = 0, len = this.scene.peerModels.length; i < len; ++i) {\n      this.renderWorldLabel(this.scene.peerModels[i].group.position, this.scene.peerModels[i].label);\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/renderer_2d.js?");

/***/ }),

/***/ "./client/src/render/scene.js":
/*!************************************!*\
  !*** ./client/src/render/scene.js ***!
  \************************************/
/*! exports provided: Scene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Scene\", function() { return Scene; });\n/* harmony import */ var _colour_grid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colour_grid */ \"./client/src/render/colour_grid.js\");\n/* harmony import */ var _player_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./player_model */ \"./client/src/render/player_model.js\");\n/*\r\n * Scene\r\n * -- handle world objects & camera\r\n */\n\n\n\n\nclass Scene {\n  constructor(client) {\n    // scene\n    this.scene = new THREE.Scene();\n    this.colourGrid = new _colour_grid__WEBPACK_IMPORTED_MODULE_0__[\"ColourGrid\"](this.scene, client);\n    this.playerModel = new _player_model__WEBPACK_IMPORTED_MODULE_1__[\"PlayerModel\"](this.scene);\n\n    // camera\n    this.hudSize = document.querySelector('.hud').getBoundingClientRect().width;\n    this.width = window.innerWidth - this.hudSize;\n    this.height = window.innerHeight;\n    this.ratio = this.width / this.height;\n    this.size = 20;\n    const w = this.size * this.ratio;\n    const h = this.size;\n    this.camera = new THREE.OrthographicCamera(-w / 2, w / 2, h / 2, -h / 2, 0.1, 1000);\n    this.offset = new THREE.Vector3(10, 10, 10);\n    this.adjust = 8;\n\n    // player & peer manager\n    this.player = client.player;\n    this.peerManager = client.peerManager;\n    this.peerModels = [];\n    this.camera.position.copy(this.player.position);\n    this.camera.position.add(this.offset);\n    this.camera.lookAt(this.player.position);\n\n    // lighting\n    const a1 = new THREE.AmbientLight(0xffffff, 0.125);\n    const d1 = new THREE.DirectionalLight(0xffffff, 0.5);\n    const d2 = new THREE.DirectionalLight(0xffffff, 0.25);\n    d1.position.set(1, 0.5, 0.5);\n    d2.position.set(-1, 0.25, -0.5);\n    this.scene.add(a1, d1, d2);\n  }\n\n  updatePlayerObjects() {\n    // player\n    this.playerModel.update(this.player);\n\n    // conform peer mesh array\n    const keys = this.peerManager.getKeys();\n    const count = keys.length;\n\n    if (count > this.peerModels.length) {\n      for (var i = 0, len = count - this.peerModels.length; i < len; ++i) {\n        this.peerModels.push(new _player_model__WEBPACK_IMPORTED_MODULE_1__[\"PlayerModel\"](this.scene));\n      }\n    } else if (count < this.peerModels.length) {\n      for (var i = 0, len = this.peerModels.length - count; i < len; ++i) {\n        const index = this.peerModels.length - 1;\n        this.peerModels[index].remove();\n        this.peerModels.splice(index, 1);\n      }\n    }\n\n    // move peer meshes\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      if (this.peerModels.length > i) {\n        this.peerModels[i].update(this.peerManager.getPeer(keys[i]));\n      }\n    }\n  }\n\n  update(delta, client) {\n    // move camera to player\n    const f = this.adjust * delta;\n    this.camera.position.set(this.camera.position.x + (this.player.position.x + this.offset.x - this.camera.position.x) * f, this.camera.position.y + (this.player.position.y + this.offset.y - this.camera.position.y) * f, this.camera.position.z + (this.player.position.z + this.offset.z - this.camera.position.z) * f);\n\n    // move players\n    this.updatePlayerObjects();\n\n    // update colour grid\n    this.colourGrid.update(delta);\n  }\n\n  resize() {\n    this.hudSize = document.querySelector('.hud').getBoundingClientRect().width;\n    this.width = window.innerWidth - this.hudSize;\n    this.height = window.innerHeight;\n    this.ratio = this.width / this.height;\n    const w = this.size * this.ratio;\n    const h = this.size;\n    this.camera.left = w / -2;\n    this.camera.right = w / 2;\n    this.camera.top = h / 2;\n    this.camera.bottom = h / -2;\n    this.camera.updateProjectionMatrix();\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/render/scene.js?");

/***/ }),

/***/ "./client/src/utils/colour.js":
/*!************************************!*\
  !*** ./client/src/utils/colour.js ***!
  \************************************/
/*! exports provided: toColourString, getRandomColour, toColourHex, averageColours */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toColourString\", function() { return toColourString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRandomColour\", function() { return getRandomColour; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toColourHex\", function() { return toColourHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"averageColours\", function() { return averageColours; });\n/*\r\n * Colour\r\n * -- colour conversion & utility functions\r\n */\n\nfunction averageColours(arr) {\n  // average array of colours\n  var r = 0;\n  var g = 0;\n  var b = 0;\n\n  for (var i = 0, len = arr.length; i < len; ++i) {\n    r += arr[i] >> 16 & 0xff;\n    g += arr[i] >> 8 & 0xff;\n    b += arr[i] & 0xff;\n  }\n\n  if (arr.length) {\n    r = (r / arr.length & 0xff) << 16;\n    g = (g / arr.length & 0xff) << 8;\n    b = b / arr.length & 0xff;\n  }\n\n  return r + g + b;\n}\n\nfunction toColourString(n) {\n  // convert hex to browser-friendly hex string\n  var r = n >> 16 & 0xff;\n  var g = n >> 8 & 0xff;\n  var b = n & 0xff;\n  r = (r < 16 ? '0' : '') + r.toString(16);\n  g = (g < 16 ? '0' : '') + g.toString(16);\n  b = (b < 16 ? '0' : '') + b.toString(16);\n  return `#${r}${g}${b}`;\n}\n\nfunction toColourHex(r, g, b) {\n  // rgb = [0, 1]\n  r = (Math.round(r * 0xff) & 0xff) << 16;\n  g = (Math.round(g * 0xff) & 0xff) << 8;\n  b = Math.round(b * 0xff) & 0xff;\n\n  return r + g + b;\n}\n\nconst THIRD = 1 / 3;\nconst SIXTH = 1 / 6;\nconst TWO_THIRDS = 2 / 3;\n\nfunction hueToRGB(p, q, t) {\n  // helper func for getRandomColour\n  t += t < 0 ? 1 : t > 1 ? -1 : 0;\n  if (t < SIXTH) {\n    return p + (q - p) * 6 * t;\n  } else if (t < 0.5) {\n    return q;\n  } else if (t < TWO_THIRDS) {\n    return p + (q - p) * (TWO_THIRDS - t) * 6;\n  } else {\n    return p;\n  }\n};\n\nfunction getRandomColour() {\n  // get random colour hex\n  var r, b, g;\n  const S = Math.random();\n  const L = Math.random();\n  const H = Math.random();\n\n  if (S !== 0) {\n    const Q = L < 0.5 ? L * (1 + S) : L + S - L * S;\n    const P = 2 * L - Q;\n    r = hueToRGB(P, Q, H + THIRD);\n    g = hueToRGB(P, Q, H);\n    b = hueToRGB(P, Q, H - THIRD);\n  } else {\n    r = g = b = L;\n  }\n\n  return toColourHex(r, g, b);\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/utils/colour.js?");

/***/ }),

/***/ "./client/src/utils/index.js":
/*!***********************************!*\
  !*** ./client/src/utils/index.js ***!
  \***********************************/
/*! exports provided: Timer, toColourString, getRandomColour, toColourHex, averageColours, getStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./timer */ \"./client/src/utils/timer.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Timer\", function() { return _timer__WEBPACK_IMPORTED_MODULE_0__[\"Timer\"]; });\n\n/* harmony import */ var _colour__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colour */ \"./client/src/utils/colour.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"toColourString\", function() { return _colour__WEBPACK_IMPORTED_MODULE_1__[\"toColourString\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getRandomColour\", function() { return _colour__WEBPACK_IMPORTED_MODULE_1__[\"getRandomColour\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"toColourHex\", function() { return _colour__WEBPACK_IMPORTED_MODULE_1__[\"toColourHex\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"averageColours\", function() { return _colour__WEBPACK_IMPORTED_MODULE_1__[\"averageColours\"]; });\n\n/* harmony import */ var _status__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./status */ \"./client/src/utils/status.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getStatus\", function() { return _status__WEBPACK_IMPORTED_MODULE_2__[\"getStatus\"]; });\n\n\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/utils/index.js?");

/***/ }),

/***/ "./client/src/utils/maths.js":
/*!***********************************!*\
  !*** ./client/src/utils/maths.js ***!
  \***********************************/
/*! exports provided: minAngleTo, clamp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"minAngleTo\", function() { return minAngleTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp\", function() { return clamp; });\n/*\r\n * Maths\r\n * -- some useful maths\r\n */\n\nfunction minAngleTo(from, to) {\n  return Math.atan2(Math.sin(to - from), Math.cos(to - from));\n}\n\nfunction clamp(x, min, max) {\n  return Math.min(max, Math.max(x, min));\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/utils/maths.js?");

/***/ }),

/***/ "./client/src/utils/status.js":
/*!************************************!*\
  !*** ./client/src/utils/status.js ***!
  \************************************/
/*! exports provided: getStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStatus\", function() { return getStatus; });\n/*\r\n * Status\r\n * -- status based on number of cells filled\r\n */\n\nconst status = [\"Nobody\", \"Somebody\", \"Finger Painter\", \"Doodler\", \"Scribbler\", \"Egg Painter\", \"Artist\", \"L'Artiste\", \"Art\", \"Baller\", \"Pixel Pusher\", \"Bit Wrangler\", \"Recluse\", \"Pica$$o\", \"Server Crasher\", \"Pretty Fly\", \"Inseminator\", \"Pencil Jesus\", \"Pencil Satan\", \"Pencil Buddha\", \"The One Ring\", \"Pulitzer Prize\", \"Nobel Prize\", \"GOAT\", \"Palme d'Or\", \"Ballon d'Or\", \"666\", \"Go Outside\", \"1337\"];\n\nfunction getStatus(n) {\n  var stat = '';\n\n  for (var i = 0, len = status.length; i < len; ++i) {\n    const j = i + 1;\n    const lower = i < 10 ? i * 10 : i < 19 ? (i - 9) * 100 : (i - 18) * 1000;\n    const upper = j < 10 ? j * 10 : j < 19 ? (j - 9) * 100 : (j - 18) * 1000;\n\n    if (n >= lower && n <= upper || i == status.length - 1) {\n      stat = status[i];\n      break;\n    }\n  }\n\n  return stat;\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/utils/status.js?");

/***/ }),

/***/ "./client/src/utils/timer.js":
/*!***********************************!*\
  !*** ./client/src/utils/timer.js ***!
  \***********************************/
/*! exports provided: Timer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Timer\", function() { return Timer; });\n/*\r\n * Timer\r\n * -- basic timekeeping\r\n */\n\nclass Timer {\n  constructor() {\n    this.now = new Date().getTime();\n    this.delta = 0;\n  }\n\n  update() {\n    var t = new Date().getTime();\n    this.delta = (t - this.now) / 1000.;\n    this.now = t;\n    return this.delta;\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./client/src/utils/timer.js?");

/***/ }),

/***/ "./shared/action.js":
/*!**************************!*\
  !*** ./shared/action.js ***!
  \**************************/
/*! exports provided: ACTION */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTION\", function() { return ACTION; });\nconst ACTION = {\n  CONNECTION_CLOSED: 'ACTION_CONNECTION_CLOSED',\n  PING: 'ACTION_PING',\n  PONG: 'ACTION_PONG',\n  STATE: 'ACTION_STATE',\n  STATE_REQUEST: 'ACTION_STATE_REQUEST',\n  MOVE: 'ACTION_MOVE',\n  PAINT: 'ACTION_PAINT',\n  MAP: 'ACTION_MAP',\n  MESSAGE: 'ACTION_MESSAGE',\n  NOTICE: 'ACTION_NOTICE',\n  MUTE: 'ACTION_MUTE',\n  ERROR: 'ACTION_ERROR',\n  PEERS: 'ACTION_PEERS',\n  PEER_DISCONNECT: 'ACTION_PEER_DISCONNECT',\n  SET_NAME: 'ACTION_SET_NAME',\n  SET_COLOUR: 'ACTION_SET_COLOUR'\n};\n\n\n\n//# sourceURL=webpack://mmommo/./shared/action.js?");

/***/ }),

/***/ "./shared/client_state.js":
/*!********************************!*\
  !*** ./shared/client_state.js ***!
  \********************************/
/*! exports provided: ClientState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClientState\", function() { return ClientState; });\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vector */ \"./shared/vector.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./shared/config.js\");\n\n\n\nclass ClientState {\n  constructor() {\n    this.state = {\n      id: null,\n      name: '',\n      p: new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](0, 0, 0),\n      v: new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](0, 0, 0),\n      colour: null,\n      ping: '...',\n      cellsColoured: 0\n    };\n  }\n\n  set(state) {\n    const keys = Object.keys(state);\n\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      const k = keys[i];\n      if (k == 'p' || k == 'v') {\n        this.state[k].set(state[k]);\n      } else {\n        this.state[k] = state[k];\n      }\n    }\n  }\n\n  get(key) {\n    if (key == 'p' || key == 'v') {\n      return this.state[key].getJSON();\n    } else {\n      return this.state[key];\n    }\n  }\n\n  getPartJSON(keys) {\n    const state = {};\n\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      state[keys[i]] = this.get(keys[i]);\n    }\n\n    return state;\n  }\n\n  getJSON() {\n    const state = {};\n    const keys = Object.keys(this.state);\n\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      state[keys[i]] = this.get(keys[i]);\n    }\n\n    return state;\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./shared/client_state.js?");

/***/ }),

/***/ "./shared/config.js":
/*!**************************!*\
  !*** ./shared/config.js ***!
  \**************************/
/*! exports provided: Config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return Config; });\nconst Config = {\n  global: {\n    maxDataSize: 400,\n    maxMessageSize: 250,\n    grid: {\n      size: 512,\n      step: 2.5,\n      playerSpawnRange: 64 // from centre\n    }\n  },\n  client: {\n    emitMovementRate: 4,\n    emitMovementPeriod: 1,\n    emitPingRate: 1,\n    emitPingPeriod: 5\n  },\n  server: {\n    limitRequestRate: 10,\n    limitRequestPeriod: 1,\n    limitSpamRate: 5,\n    limitSpamPeriod: 5,\n    limitBroadcastRate: 8,\n    limitBroadcastPeriod: 1,\n    limitBroadcastPaintRate: 5,\n    limitBroadcastPaintPeriod: 1,\n    userMuteTimeout: 10,\n    userMuteTimeoutIncrement: 5\n  }\n};\n\n\n\n//# sourceURL=webpack://mmommo/./shared/config.js?");

/***/ }),

/***/ "./shared/index.js":
/*!*************************!*\
  !*** ./shared/index.js ***!
  \*************************/
/*! exports provided: ACTION, ClientState, Vector, Config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action */ \"./shared/action.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ACTION\", function() { return _action__WEBPACK_IMPORTED_MODULE_0__[\"ACTION\"]; });\n\n/* harmony import */ var _client_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client_state */ \"./shared/client_state.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ClientState\", function() { return _client_state__WEBPACK_IMPORTED_MODULE_1__[\"ClientState\"]; });\n\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vector */ \"./shared/vector.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vector\", function() { return _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"]; });\n\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config */ \"./shared/config.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return _config__WEBPACK_IMPORTED_MODULE_3__[\"Config\"]; });\n\n\n\n\n\n\n//# sourceURL=webpack://mmommo/./shared/index.js?");

/***/ }),

/***/ "./shared/vector.js":
/*!**************************!*\
  !*** ./shared/vector.js ***!
  \**************************/
/*! exports provided: Vector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vector\", function() { return Vector; });\nclass Vector {\n  constructor(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n\n  set(vec) {\n    this.x = vec.x;\n    this.y = vec.y;\n    this.z = vec.z;\n  }\n\n  getJSON() {\n    return {\n      x: this.x,\n      y: this.y,\n      z: this.z\n    };\n  }\n}\n\n\n\n//# sourceURL=webpack://mmommo/./shared/vector.js?");

/***/ })

/******/ });